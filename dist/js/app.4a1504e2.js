(function(){var e={5358:function(e,t,i){var s={"./af":2190,"./af.js":2190,"./ar":7218,"./ar-dz":5785,"./ar-dz.js":5785,"./ar-kw":9417,"./ar-kw.js":9417,"./ar-ly":6904,"./ar-ly.js":6904,"./ar-ma":8617,"./ar-ma.js":8617,"./ar-ps":1318,"./ar-ps.js":1318,"./ar-sa":2699,"./ar-sa.js":2699,"./ar-tn":6789,"./ar-tn.js":6789,"./ar.js":7218,"./az":3050,"./az.js":3050,"./be":8316,"./be.js":8316,"./bg":310,"./bg.js":310,"./bm":8884,"./bm.js":8884,"./bn":3469,"./bn-bd":6672,"./bn-bd.js":6672,"./bn.js":3469,"./bo":9118,"./bo.js":9118,"./br":3113,"./br.js":3113,"./bs":3626,"./bs.js":3626,"./ca":921,"./ca.js":921,"./cs":7799,"./cs.js":7799,"./cv":2828,"./cv.js":2828,"./cy":3521,"./cy.js":3521,"./da":6962,"./da.js":6962,"./de":3294,"./de-at":6158,"./de-at.js":6158,"./de-ch":5960,"./de-ch.js":5960,"./de.js":3294,"./dv":7963,"./dv.js":7963,"./el":3432,"./el.js":3432,"./en-au":998,"./en-au.js":998,"./en-ca":5931,"./en-ca.js":5931,"./en-gb":5930,"./en-gb.js":5930,"./en-ie":8081,"./en-ie.js":8081,"./en-il":1594,"./en-il.js":1594,"./en-in":3904,"./en-in.js":3904,"./en-nz":1507,"./en-nz.js":1507,"./en-sg":9409,"./en-sg.js":9409,"./eo":2177,"./eo.js":2177,"./es":4805,"./es-do":9155,"./es-do.js":9155,"./es-mx":9791,"./es-mx.js":9791,"./es-us":6098,"./es-us.js":6098,"./es.js":4805,"./et":6240,"./et.js":6240,"./eu":391,"./eu.js":391,"./fa":612,"./fa.js":612,"./fi":4220,"./fi.js":4220,"./fil":5570,"./fil.js":5570,"./fo":5466,"./fo.js":5466,"./fr":4461,"./fr-ca":6306,"./fr-ca.js":6306,"./fr-ch":7081,"./fr-ch.js":7081,"./fr.js":4461,"./fy":3484,"./fy.js":3484,"./ga":6957,"./ga.js":6957,"./gd":2978,"./gd.js":2978,"./gl":9866,"./gl.js":9866,"./gom-deva":5011,"./gom-deva.js":5011,"./gom-latn":4724,"./gom-latn.js":4724,"./gu":1601,"./gu.js":1601,"./he":9802,"./he.js":9802,"./hi":9358,"./hi.js":9358,"./hr":3907,"./hr.js":3907,"./hu":218,"./hu.js":218,"./hy-am":533,"./hy-am.js":533,"./id":2844,"./id.js":2844,"./is":7353,"./is.js":7353,"./it":6364,"./it-ch":774,"./it-ch.js":774,"./it.js":6364,"./ja":6008,"./ja.js":6008,"./jv":8221,"./jv.js":8221,"./ka":2417,"./ka.js":2417,"./kk":2071,"./kk.js":2071,"./km":6149,"./km.js":6149,"./kn":4572,"./kn.js":4572,"./ko":659,"./ko.js":659,"./ku":6285,"./ku-kmr":9398,"./ku-kmr.js":9398,"./ku.js":6285,"./ky":1609,"./ky.js":1609,"./lb":119,"./lb.js":119,"./lo":1748,"./lo.js":1748,"./lt":1973,"./lt.js":1973,"./lv":1347,"./lv.js":1347,"./me":3023,"./me.js":3023,"./mi":5747,"./mi.js":5747,"./mk":4341,"./mk.js":4341,"./ml":3840,"./ml.js":3840,"./mn":2058,"./mn.js":2058,"./mr":9182,"./mr.js":9182,"./ms":5197,"./ms-my":9136,"./ms-my.js":9136,"./ms.js":5197,"./mt":6408,"./mt.js":6408,"./my":1683,"./my.js":1683,"./nb":3141,"./nb.js":3141,"./ne":9344,"./ne.js":9344,"./nl":4703,"./nl-be":4641,"./nl-be.js":4641,"./nl.js":4703,"./nn":9873,"./nn.js":9873,"./oc-lnc":1217,"./oc-lnc.js":1217,"./pa-in":4612,"./pa-in.js":4612,"./pl":4457,"./pl.js":4457,"./pt":1089,"./pt-br":9146,"./pt-br.js":9146,"./pt.js":1089,"./ro":5950,"./ro.js":5950,"./ru":7292,"./ru.js":7292,"./sd":6774,"./sd.js":6774,"./se":7493,"./se.js":7493,"./si":3761,"./si.js":3761,"./sk":9711,"./sk.js":9711,"./sl":8558,"./sl.js":8558,"./sq":8633,"./sq.js":8633,"./sr":688,"./sr-cyrl":7903,"./sr-cyrl.js":7903,"./sr.js":688,"./ss":1991,"./ss.js":1991,"./sv":7020,"./sv.js":7020,"./sw":5891,"./sw.js":5891,"./ta":3333,"./ta.js":3333,"./te":206,"./te.js":206,"./tet":4768,"./tet.js":4768,"./tg":8276,"./tg.js":8276,"./th":7977,"./th.js":7977,"./tk":6928,"./tk.js":6928,"./tl-ph":8046,"./tl-ph.js":8046,"./tlh":1361,"./tlh.js":1361,"./tr":4367,"./tr.js":4367,"./tzl":627,"./tzl.js":627,"./tzm":2636,"./tzm-latn":8148,"./tzm-latn.js":8148,"./tzm.js":2636,"./ug-cn":8823,"./ug-cn.js":8823,"./uk":461,"./uk.js":461,"./ur":1366,"./ur.js":1366,"./uz":3454,"./uz-latn":8374,"./uz-latn.js":8374,"./uz.js":3454,"./vi":8572,"./vi.js":8572,"./x-pseudo":464,"./x-pseudo.js":464,"./yo":3709,"./yo.js":3709,"./zh-cn":5873,"./zh-cn.js":5873,"./zh-hk":7549,"./zh-hk.js":7549,"./zh-mo":2240,"./zh-mo.js":2240,"./zh-tw":405,"./zh-tw.js":405};function a(e){var t=o(e);return i(t)}function o(e){if(!i.o(s,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return s[e]}a.keys=function(){return Object.keys(s)},a.resolve=o,e.exports=a,a.id=5358},1854:function(e,t,i){"use strict";var s=i(5130),a=i(5587),o=(i(4188),i(7477)),l=i(9148),n=i.n(l),r=i(6768);function d(e,t,i,a,o,l){const n=(0,r.g2)("router-view");return(0,r.uX)(),(0,r.Wv)(n,null,{default:(0,r.k6)((e=>[(0,r.bF)(s.eB,{name:o.transitionStyle,mode:"out-in"},{default:(0,r.k6)((()=>[((0,r.uX)(),(0,r.Wv)((0,r.$y)(e.Component)))])),_:2},1032,["name"])])),_:1})}var m={data(){return{transitionStyle:"fade-scale"}},watch:{async $route(e,t){"/login"!==e.path&&"/signup"!==e.path||"/login"!==t.path&&"/signup"!==t.path?this.transitionStyle="fade":this.transitionStyle="fade-scale"}}},c=i(1241);const u=(0,c.A)(m,[["render",d]]);var g=u,p=(i(4114),i(973));function h(e,t,i,s,a,o){const l=(0,r.g2)("the-header"),n=(0,r.g2)("el-header"),d=(0,r.g2)("the-main"),m=(0,r.g2)("el-scrollbar"),c=(0,r.g2)("el-main"),u=(0,r.g2)("the-footer"),g=(0,r.g2)("el-footer"),p=(0,r.g2)("el-container");return(0,r.uX)(),(0,r.Wv)(p,null,{default:(0,r.k6)((()=>[(0,r.bF)(n,null,{default:(0,r.k6)((()=>[(0,r.bF)(l)])),_:1}),(0,r.bF)(c,null,{default:(0,r.k6)((()=>[(0,r.bF)(m,null,{default:(0,r.k6)((()=>[(0,r.bF)(d)])),_:1})])),_:1}),(0,r.bF)(g,null,{default:(0,r.k6)((()=>[(0,r.bF)(u)])),_:1})])),_:1})}var f=i(4232);const k=e=>((0,r.Qi)("data-v-d0a10492"),e=e(),(0,r.jt)(),e),b=k((()=>(0,r.Lk)("div",{class:"flex-grow"},null,-1)));function _(e,t,i,s,a,o){const l=(0,r.g2)("el-image"),n=(0,r.g2)("HomeFilled"),d=(0,r.g2)("el-icon"),m=(0,r.g2)("el-menu-item"),c=(0,r.g2)("Management"),u=(0,r.g2)("Comment"),g=(0,r.g2)("UserFilled"),p=(0,r.g2)("Back"),h=(0,r.g2)("el-sub-menu"),k=(0,r.g2)("el-menu");return(0,r.uX)(),(0,r.Wv)(k,{"default-active":o.defaultIndex,mode:"horizontal",ellipsis:!1,onSelect:o.handleSelect},{default:(0,r.k6)((()=>[(0,r.bF)(l,{src:a.logo,alt:"logo"},null,8,["src"]),(0,r.bF)(m,{index:"/home"},{default:(0,r.k6)((()=>[(0,r.bF)(d,null,{default:(0,r.k6)((()=>[(0,r.bF)(n)])),_:1}),(0,r.eW)("Home ")])),_:1}),(0,r.bF)(m,{index:"/members"},{default:(0,r.k6)((()=>[(0,r.bF)(d,null,{default:(0,r.k6)((()=>[(0,r.bF)(c)])),_:1}),(0,r.eW)("Members ")])),_:1}),(0,r.bF)(m,{index:"/topics"},{default:(0,r.k6)((()=>[(0,r.bF)(d,null,{default:(0,r.k6)((()=>[(0,r.bF)(u)])),_:1}),(0,r.eW)("Topics ")])),_:1}),b,(0,r.bF)(h,{index:"/logout"},{title:(0,r.k6)((()=>[(0,r.bF)(d,null,{default:(0,r.k6)((()=>[(0,r.bF)(g)])),_:1}),(0,r.eW)((0,f.v_)(o.username),1)])),default:(0,r.k6)((()=>[(0,r.bF)(m,{index:"/logout",onClick:o.handleClickLogout},{default:(0,r.k6)((()=>[(0,r.bF)(d,null,{default:(0,r.k6)((()=>[(0,r.bF)(p)])),_:1}),(0,r.eW)("Logout ")])),_:1},8,["onClick"])])),_:1})])),_:1},8,["default-active","onSelect"])}var F=i.p+"img/logo.db0e0216.png",w={data(){return{logo:F}},watch:{$route(e){this.handleSelect(e.fullPath)}},computed:{username(){return this.$store.getters.email},defaultIndex(){let e=this.$route.fullPath;return e.includes("home")&&(e="/home"),e.includes("member")&&(e="/members"),e.includes("topic")&&(e="/topics"),e}},methods:{handleSelect(e){Vt.push(e)},handleClickLogout(){this.$store.dispatch("logout"),Vt.push({name:"login"})}}};const y=(0,c.A)(w,[["render",_],["__scopeId","data-v-d0a10492"]]);var C=y;function v(e,t,i,a,o,l){const n=(0,r.g2)("router-view");return(0,r.uX)(),(0,r.Wv)(n,null,{default:(0,r.k6)((({Component:t})=>[(0,r.bF)(s.eB,{name:o.transitionStyle},{default:(0,r.k6)((()=>[((0,r.uX)(),(0,r.CE)("div",{key:e.$route.fullPath},[((0,r.uX)(),(0,r.Wv)((0,r.$y)(t)))]))])),_:2},1032,["name"])])),_:1})}var x={data(){return{transitionStyle:"slide-right"}},watch:{$route(e,t){e.meta.index>t.meta.index?this.transitionStyle="slide-left":this.transitionStyle="slide-right"}}};const j=(0,c.A)(x,[["render",v],["__scopeId","data-v-1bf81652"]]);var S=j;function T(e,t){const i=(0,r.g2)("el-text");return(0,r.uX)(),(0,r.CE)(r.FK,null,[(0,r.bF)(i,{tag:"b"},{default:(0,r.k6)((()=>[(0,r.eW)("IIP Training")])),_:1}),(0,r.bF)(i,null,{default:(0,r.k6)((()=>[(0,r.eW)(" | Practice 7")])),_:1})],64)}const L={},V=(0,c.A)(L,[["render",T]]);var I=V,M=i(1219),$={components:{TheHeader:C,TheMain:S,TheFooter:I},watch:{"$store.getters.isTokenExpired"(e){!0===e&&(this.$store.dispatch("logout"),Vt.replace({name:"login"}),(0,M.nk)({message:"Invalid or expired token. You need to login first.",type:"warning",offset:50}))}}};const W=(0,c.A)($,[["render",h],["__scopeId","data-v-49e23155"]]);var q=W;function D(e,t,i,s,a,o){const l=(0,r.g2)("el-image"),n=(0,r.g2)("el-carousel-item"),d=(0,r.g2)("el-carousel"),m=(0,r.g2)("Management"),c=(0,r.g2)("el-icon"),u=(0,r.g2)("el-text"),g=(0,r.g2)("ArrowRightBold"),p=(0,r.g2)("el-button"),h=(0,r.g2)("el-container"),f=(0,r.g2)("members-table"),k=(0,r.g2)("el-card"),b=(0,r.g2)("Comment"),_=(0,r.g2)("topics-list");return(0,r.uX)(),(0,r.CE)(r.FK,null,[(0,r.bF)(d,{trigger:"click",height:"auto",arrow:"always"},{default:(0,r.k6)((()=>[((0,r.uX)(),(0,r.CE)(r.FK,null,(0,r.pI)(4,(e=>(0,r.bF)(n,{key:e,style:{height:"25vh"}},{default:(0,r.k6)((()=>[(0,r.bF)(l,{src:a.banners[e],fit:"cover",style:{width:"100%",height:"100%"}},null,8,["src"])])),_:2},1024))),64))])),_:1}),(0,r.bF)(h,{class:"main"},{default:(0,r.k6)((()=>[(0,r.bF)(k,{class:"main-card"},{header:(0,r.k6)((()=>[(0,r.bF)(h,{class:"card-header"},{default:(0,r.k6)((()=>[(0,r.bF)(u,{size:"large",tag:"b",type:"primary"},{default:(0,r.k6)((()=>[(0,r.bF)(c,null,{default:(0,r.k6)((()=>[(0,r.bF)(m)])),_:1}),(0,r.eW)(" Members ")])),_:1}),(0,r.bF)(h,{class:"view-all-button"},{default:(0,r.k6)((()=>[(0,r.bF)(p,{color:"#7f4af1",onClick:o.handleViewAllMembers},{default:(0,r.k6)((()=>[(0,r.eW)(" View All "),(0,r.bF)(c,null,{default:(0,r.k6)((()=>[(0,r.bF)(g)])),_:1})])),_:1},8,["onClick"])])),_:1})])),_:1})])),default:(0,r.k6)((()=>[(0,r.bF)(f,{"table-data":a.members,"is-preview":!0,"is-loading":a.isMembersLoading},null,8,["table-data","is-loading"])])),_:1})])),_:1}),(0,r.bF)(h,{class:"main"},{default:(0,r.k6)((()=>[(0,r.bF)(k,{class:"main-card"},{header:(0,r.k6)((()=>[(0,r.bF)(h,{class:"card-header"},{default:(0,r.k6)((()=>[(0,r.bF)(u,{size:"large",tag:"b",type:"primary"},{default:(0,r.k6)((()=>[(0,r.bF)(c,null,{default:(0,r.k6)((()=>[(0,r.bF)(b)])),_:1}),(0,r.eW)(" Topics ")])),_:1}),(0,r.bF)(h,{class:"view-all-button"},{default:(0,r.k6)((()=>[(0,r.bF)(p,{color:"#7f4af1",onClick:o.handleViewAllTopics},{default:(0,r.k6)((()=>[(0,r.eW)(" View All "),(0,r.bF)(c,null,{default:(0,r.k6)((()=>[(0,r.bF)(g)])),_:1})])),_:1},8,["onClick"])])),_:1})])),_:1})])),default:(0,r.k6)((()=>[(0,r.bF)(_,{"topics-list":a.topics,"is-loading":a.isTopicsLoading,onDataUpdated:o.fetchTopics},null,8,["topics-list","is-loading","onDataUpdated"])])),_:1})])),_:1})],64)}const E={class:"dialog-footer"};function O(e,t,i,s,a,o){const l=(0,r.g2)("el-table-column"),n=(0,r.g2)("Edit"),d=(0,r.g2)("el-icon"),m=(0,r.g2)("el-button"),c=(0,r.g2)("CircleClose"),u=(0,r.g2)("el-empty"),g=(0,r.g2)("el-table"),p=(0,r.g2)("el-scrollbar"),h=(0,r.g2)("el-dialog"),k=(0,r.gN)("loading");return(0,r.uX)(),(0,r.CE)(r.FK,null,[(0,r.bF)(p,null,{default:(0,r.k6)((()=>[(0,r.bo)(((0,r.uX)(),(0,r.Wv)(g,{"element-loading-text":"Loading members...",data:i.tableData,stripe:"",border:"","table-layout":"auto","header-cell-style":{background:"#7f4af1",color:"white"}},{empty:(0,r.k6)((()=>[(0,r.bF)(u,{description:"No items to display."})])),default:(0,r.k6)((()=>[(0,r.bF)(l,{prop:"name",label:"Name"}),(0,r.bF)(l,{prop:"sex",label:"Sex"}),(0,r.bF)(l,{prop:"birthday",label:"Birthday"}),(0,r.bF)(l,{prop:"occupation",label:"Occupation"}),(0,r.bF)(l,{prop:"phone",label:"Phone"}),(0,r.bF)(l,{prop:"email",label:"Email"}),(0,r.bF)(l,{prop:"interest",label:"Interest"}),i.isPreview?(0,r.Q3)("",!0):((0,r.uX)(),(0,r.Wv)(l,{key:0,align:"center",label:"Actions",fixed:"right",prop:"id"},{default:(0,r.k6)((e=>[(0,r.bF)(m,{color:"dodgerblue",size:"small",onClick:t=>o.handleClickEdit(e.row.id),class:"action-button"},{default:(0,r.k6)((()=>[(0,r.bF)(d,null,{default:(0,r.k6)((()=>[(0,r.bF)(n)])),_:1}),(0,r.eW)(" Edit ")])),_:2},1032,["onClick"]),(0,r.bF)(m,{type:"danger",size:"small",disabled:a.isOngoingRequest,onClick:t=>o.handleClickDelete(e.row.id,e.row.name),class:"action-button"},{default:(0,r.k6)((()=>[(0,r.bF)(d,null,{default:(0,r.k6)((()=>[(0,r.bF)(c)])),_:1}),(0,r.eW)(" Delete ")])),_:2},1032,["disabled","onClick"])])),_:1}))])),_:1},8,["data"])),[[k,i.isLoading]])])),_:1}),(0,r.bF)(h,{modelValue:a.dialog.isVisible,"onUpdate:modelValue":t[0]||(t[0]=e=>a.dialog.isVisible=e),title:"Confirm deletion",width:"500","align-center":""},{footer:(0,r.k6)((()=>[(0,r.Lk)("div",E,[(0,r.bF)(m,{onClick:o.handleClickCancel,loading:a.isOngoingRequest},{default:(0,r.k6)((()=>[(0,r.eW)("Cancel")])),_:1},8,["onClick","loading"]),(0,r.bF)(m,{type:"primary",onClick:o.deleteMember,loading:a.isOngoingRequest},{default:(0,r.k6)((()=>[(0,r.eW)(" Confirm ")])),_:1},8,["onClick","loading"])])])),default:(0,r.k6)((()=>[(0,r.Lk)("span",null,[(0,r.eW)("Are you sure you want to delete "),(0,r.Lk)("b",null,(0,f.v_)(a.dialog.selectedMemberName),1),(0,r.eW)("?")])])),_:1},8,["modelValue"])],64)}var R={props:{tableData:{type:Array,required:!0},isPreview:{type:Boolean,required:!0},isLoading:{type:Boolean,required:!0}},emits:["update-members-list"],data(){return{isOngoingRequest:!1,dialog:{isVisible:!1,selectedMemberName:"",selectedMemberId:""}}},methods:{handleClickEdit(e){Vt.push({name:"members-edit",query:{id:e}})},handleClickDelete(e,t){this.dialog={isVisible:!0,selectedMemberName:t,selectedMemberId:e}},handleClickCancel(){this.resetDialog()},resetDialog(){this.dialog={isVisible:!1,selectedMemberName:"",selectedMemberId:""}},async deleteMember(){this.isOngoingRequest=!0;const e={id:this.dialog.selectedMemberId,name:this.dialog.selectedMemberName};await this.$store.dispatch("deleteMember",e);const t=this.$store.getters.deleteMemberStatus;t.isValid?(this.showDialogBox(t.message,"success"),this.$emit("update-members-list")):this.$store.getters.isTokenExpired||this.showDialogBox(t.message,"error"),this.isOngoingRequest=!1,this.resetDialog()},showDialogBox(e,t){(0,M.nk)({message:e,type:t,offset:50})}}};const A=(0,c.A)(R,[["render",O],["__scopeId","data-v-94cc27b6"]]);var U=A;function B(e,t,i,s,a,o){const l=(0,r.g2)("el-empty"),n=(0,r.g2)("topic-detail"),d=(0,r.g2)("el-scrollbar"),m=(0,r.g2)("el-container"),c=(0,r.gN)("loading");return(0,r.bo)(((0,r.uX)(),(0,r.Wv)(m,{id:"topics-list","element-loading-text":"Loading topics..."},{default:(0,r.k6)((()=>[0===i.topicsList.length?((0,r.uX)(),(0,r.Wv)(l,{key:0,description:"No items to display."})):((0,r.uX)(),(0,r.Wv)(d,{key:1},{default:(0,r.k6)((()=>[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.topicsList,(e=>((0,r.uX)(),(0,r.Wv)(n,{key:e,topic:e,onDataUpdated:o.requestUpdate},null,8,["topic","onDataUpdated"])))),128))])),_:1}))])),_:1})),[[c,i.isLoading]])}const z=e=>((0,r.Qi)("data-v-8d32b6c0"),e=e(),(0,r.jt)(),e),P=z((()=>(0,r.Lk)("svg",{width:"64px",height:"64px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[(0,r.Lk)("g",{id:"SVGRepo_bgCarrier","stroke-width":"0"}),(0,r.Lk)("g",{id:"SVGRepo_tracerCarrier","stroke-linecap":"round","stroke-linejoin":"round"}),(0,r.Lk)("g",{id:"SVGRepo_iconCarrier"},[(0,r.Lk)("path",{d:"M2 9.1371C2 14 6.01943 16.5914 8.96173 18.9109C10 19.7294 11 20.5 12 20.5C13 20.5 14 19.7294 15.0383 18.9109C17.9806 16.5914 22 14 22 9.1371C22 4.27416 16.4998 0.825464 12 5.50063C7.50016 0.825464 2 4.27416 2 9.1371Z",fill:"#a17af5"})])],-1))),X=z((()=>(0,r.Lk)("svg",{width:"64px",height:"64px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"#a17af5","stroke-width":"1.3679999999999999"},[(0,r.Lk)("g",{id:"SVGRepo_bgCarrier","stroke-width":"0"}),(0,r.Lk)("g",{id:"SVGRepo_tracerCarrier","stroke-linecap":"round","stroke-linejoin":"round"}),(0,r.Lk)("g",{id:"SVGRepo_iconCarrier"},[(0,r.Lk)("path",{d:"M2 9.1371C2 14 6.01943 16.5914 8.96173 18.9109C10 19.7294 11 20.5 12 20.5C13 20.5 14 19.7294 15.0383 18.9109C17.9806 16.5914 22 14 22 9.1371C22 4.27416 16.4998 0.825464 12 5.50063C7.50016 0.825464 2 4.27416 2 9.1371Z",fill:"#fff"})])],-1))),N={key:0,width:"64px",height:"64px",viewBox:"0 0 32 32",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:sketch":"http://www.bohemiancoding.com/sketch/ns",fill:"#000000",stroke:"#000000"},G=z((()=>(0,r.Lk)("g",{id:"SVGRepo_bgCarrier","stroke-width":"0"},null,-1))),K=z((()=>(0,r.Lk)("g",{id:"SVGRepo_tracerCarrier","stroke-linecap":"round","stroke-linejoin":"round"},null,-1))),H=z((()=>(0,r.Lk)("g",{id:"SVGRepo_iconCarrier"},[(0,r.Lk)("title",null,"comment 2"),(0,r.Lk)("desc",null,"Created with Sketch Beta."),(0,r.Lk)("defs"),(0,r.Lk)("g",{id:"Page-1",stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd","sketch:type":"MSPage"},[(0,r.Lk)("g",{id:"Icon-Set-Filled","sketch:type":"MSLayerGroup",transform:"translate(-154.000000, -257.000000)",fill:"#a17af5"},[(0,r.Lk)("path",{d:"M177,270 L163,270 C162.448,270 162,269.553 162,269 C162,268.448 162.448,268 163,268 L177,268 C177.552,268 178,268.448 178,269 C178,269.553 177.552,270 177,270 L177,270 Z M175,276 L165,276 C164.448,276 164,275.553 164,275 C164,274.447 164.448,274 165,274 L175,274 C175.552,274 176,274.447 176,275 C176,275.553 175.552,276 175,276 L175,276 Z M170,257 C161.164,257 154,263.269 154,271 C154,275.419 156.345,279.354 160,281.919 L160,289 L167.009,284.747 C167.979,284.907 168.977,285 170,285 C178.836,285 186,278.732 186,271 C186,263.269 178.836,257 170,257 L170,257 Z",id:"comment-2","sketch:type":"MSShapeGroup"})])])],-1))),Z=[G,K,H],Y={key:1,width:"64px",height:"64px",viewBox:"-3.2 -3.2 38.40 38.40",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:sketch":"http://www.bohemiancoding.com/sketch/ns",fill:"#a17af5",stroke:"#a17af5"},J=z((()=>(0,r.Lk)("g",{id:"SVGRepo_bgCarrier","stroke-width":"0"},null,-1))),Q=z((()=>(0,r.Lk)("g",{id:"SVGRepo_tracerCarrier","stroke-linecap":"round","stroke-linejoin":"round"},null,-1))),ee=z((()=>(0,r.Lk)("g",{id:"SVGRepo_iconCarrier"},[(0,r.Lk)("title",null,"comment 2"),(0,r.Lk)("desc",null,"Created with Sketch Beta."),(0,r.Lk)("defs"),(0,r.Lk)("g",{id:"Page-1","stroke-width":"1.984",fill:"none","fill-rule":"evenodd","sketch:type":"MSPage"},[(0,r.Lk)("g",{id:"Icon-Set-Filled","sketch:type":"MSLayerGroup",transform:"translate(-154.000000, -257.000000)",fill:""},[(0,r.Lk)("path",{d:"M177,270 L163,270 C162.448,270 162,269.553 162,269 C162,268.448 162.448,268 163,268 L177,268 C177.552,268 178,268.448 178,269 C178,269.553 177.552,270 177,270 L177,270 Z M175,276 L165,276 C164.448,276 164,275.553 164,275 C164,274.447 164.448,274 165,274 L175,274 C175.552,274 176,274.447 176,275 C176,275.553 175.552,276 175,276 L175,276 Z M170,257 C161.164,257 154,263.269 154,271 C154,275.419 156.345,279.354 160,281.919 L160,289 L167.009,284.747 C167.979,284.907 168.977,285 170,285 C178.836,285 186,278.732 186,271 C186,263.269 178.836,257 170,257 L170,257 Z",id:"comment-2","sketch:type":"MSShapeGroup"})])])],-1))),te=[J,Q,ee];function ie(e,t,i,s,a,o){const l=(0,r.g2)("el-button"),n=(0,r.g2)("el-col"),d=(0,r.g2)("el-row"),m=(0,r.g2)("el-avatar"),c=(0,r.g2)("el-text"),u=(0,r.g2)("el-container"),g=(0,r.g2)("el-icon"),p=(0,r.g2)("el-tooltip"),h=(0,r.g2)("el-card");return(0,r.uX)(),(0,r.Wv)(h,{shadow:"never","body-style":"padding: 0.7rem 1rem"},{default:(0,r.k6)((()=>[(0,r.bF)(d,{id:"title"},{default:(0,r.k6)((()=>[(0,r.bF)(n,null,{default:(0,r.k6)((()=>[(0,r.bF)(l,{class:"button-link",link:"",onClick:o.handleClickTopicDetails},{default:(0,r.k6)((()=>[(0,r.eW)((0,f.v_)(i.topic.title),1)])),_:1},8,["onClick"])])),_:1})])),_:1}),(0,r.bF)(d,null,{default:(0,r.k6)((()=>[(0,r.bF)(n,null,{default:(0,r.k6)((()=>[(0,r.bF)(m,{id:"owner"},{default:(0,r.k6)((()=>[(0,r.eW)((0,f.v_)(i.topic.owner_email.charAt(0).toUpperCase()),1)])),_:1}),(0,r.bF)(c,{size:"large"},{default:(0,r.k6)((()=>[(0,r.eW)(" "+(0,f.v_)(i.topic.owner_email),1)])),_:1})])),_:1})])),_:1}),(0,r.bF)(d,{justify:"end"},{default:(0,r.k6)((()=>[(0,r.bF)(n,{span:2,class:"icons"},{default:(0,r.k6)((()=>[(0,r.bF)(p,{effect:"light",placement:"right"},{content:(0,r.k6)((()=>[0!==i.topic.likes.length?((0,r.uX)(),(0,r.Wv)(u,{key:0,style:{"flex-direction":"column","justify-content":"start"}},{default:(0,r.k6)((()=>[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.topic.likes,(e=>((0,r.uX)(),(0,r.Wv)(c,{size:"small",key:e.likesId},{default:(0,r.k6)((()=>[(0,r.eW)((0,f.v_)(e.liker_email),1)])),_:2},1024)))),128))])),_:1})):((0,r.uX)(),(0,r.Wv)(c,{key:1,size:"small"},{default:(0,r.k6)((()=>[(0,r.eW)("no likes yet.")])),_:1}))])),default:(0,r.k6)((()=>[o.isLiked?((0,r.uX)(),(0,r.Wv)(l,{key:0,size:"small",circle:"",onClick:o.handleClickUnlike,disabled:a.isOngoingRequest},{default:(0,r.k6)((()=>[(0,r.bF)(g,{size:"20"},{default:(0,r.k6)((()=>[P])),_:1})])),_:1},8,["onClick","disabled"])):((0,r.uX)(),(0,r.Wv)(l,{key:1,size:"small",circle:"",onClick:o.handleClickLike,disabled:a.isOngoingRequest},{default:(0,r.k6)((()=>[(0,r.bF)(g,{size:"20"},{default:(0,r.k6)((()=>[X])),_:1})])),_:1},8,["onClick","disabled"]))])),_:1}),(0,r.bF)(c,null,{default:(0,r.k6)((()=>[(0,r.eW)(" "+(0,f.v_)(i.topic.likes.length),1)])),_:1})])),_:1}),(0,r.bF)(n,{span:2,class:"icons"},{default:(0,r.k6)((()=>[(0,r.bF)(l,{size:"small",circle:"",disabled:"",style:{cursor:"default"}},{default:(0,r.k6)((()=>[(0,r.bF)(g,{size:"16"},{default:(0,r.k6)((()=>[0!==i.topic.comments.length?((0,r.uX)(),(0,r.CE)("svg",N,Z)):((0,r.uX)(),(0,r.CE)("svg",Y,te))])),_:1})])),_:1}),(0,r.bF)(c,null,{default:(0,r.k6)((()=>[(0,r.eW)(" "+(0,f.v_)(i.topic.comments.length),1)])),_:1})])),_:1}),(0,r.bF)(n,{span:2.5,id:"timestamp"},{default:(0,r.k6)((()=>[(0,r.bF)(c,{size:"small"},{default:(0,r.k6)((()=>[(0,r.eW)((0,f.v_)(i.topic.timestamp),1)])),_:1})])),_:1})])),_:1})])),_:1})}var se={props:{topic:{required:!0,type:Object}},emits:["data-updated"],data(){return{isOngoingRequest:!1}},computed:{isLiked(){const e=this.$store.getters.localId;let t=!1;return this.topic.likes.forEach((i=>{i.liker_localId===e&&(t=!0)})),t}},methods:{handleClickTopicDetails(){Vt.push({name:"topics-detail",query:{id:this.topic.id}})},async handleClickLike(){this.isOngoingRequest=!0;const e={id:this.topic.id,title:this.topic.title,newData:{liker_localId:this.$store.getters.localId,liker_email:this.$store.getters.email}};await this.$store.dispatch("likeTopic",e);const t=this.$store.getters.likeTopicStatus;t.isValid?(this.showDialogBox(t.message,"success"),this.requestUpdate()):this.showDialogBox(t.message,"error"),this.isOngoingRequest=!1},async handleClickUnlike(){this.isOngoingRequest=!0,this.isOngoingRequest=!0;const e={topicId:this.topic.id,title:this.topic.title};await this.$store.dispatch("unlikeTopic",e);const t=this.$store.getters.unlikeTopicStatus;t.isValid?(this.showDialogBox(t.message,"success"),this.requestUpdate()):this.showDialogBox(t.message,"error"),this.isOngoingRequest=!1},showDialogBox(e,t){(0,M.nk)({message:e,type:t,offset:50})},requestUpdate(){this.$emit("data-updated")}}};const ae=(0,c.A)(se,[["render",ie],["__scopeId","data-v-8d32b6c0"]]);var oe=ae,le={components:{TopicDetail:oe},props:{topicsList:{type:Array,required:!0},isLoading:{type:Boolean,required:!0}},emits:["data-updated"],methods:{requestUpdate(){this.$emit("data-updated")}}};const ne=(0,c.A)(le,[["render",B],["__scopeId","data-v-7002d9be"]]);var re=ne,de=i.p+"img/banner1.b06a8495.jpg",me=i.p+"img/banner2.eb7efc0b.jpg",ce=i.p+"img/banner3.0ccba84d.jpg",ue=i.p+"img/banner4.e2aee218.jpg",ge={components:{MembersTable:U,TopicsList:re},data(){return{banners:{1:de,2:me,3:ce,4:ue},members:[],topics:[],isMembersLoading:!0,isTopicsLoading:!0}},methods:{handleViewAllMembers(){Vt.push({name:"members"})},handleViewAllTopics(){Vt.push({name:"topics"})},async fetchMembers(){await this.$store.dispatch("fetchMembers"),this.members=this.$store.getters.members.slice(0,8),this.isMembersLoading=!1},async fetchTopics(){await this.$store.dispatch("fetchTopics"),this.topics=this.$store.getters.topics.slice(0,4),this.isTopicsLoading=!1}},created(){this.fetchMembers(),this.fetchTopics()}};const pe=(0,c.A)(ge,[["render",D],["__scopeId","data-v-91d59eb2"]]);var he=pe;function fe(e,t,i,s,a,o){const l=(0,r.g2)("Management"),n=(0,r.g2)("el-icon"),d=(0,r.g2)("el-text"),m=(0,r.g2)("CirclePlus"),c=(0,r.g2)("el-button"),u=(0,r.g2)("el-container"),g=(0,r.g2)("members-table"),p=(0,r.g2)("el-pagination"),h=(0,r.g2)("el-card");return(0,r.uX)(),(0,r.Wv)(u,{id:"main"},{default:(0,r.k6)((()=>[(0,r.bF)(h,{"body-style":"height: 550px"},{header:(0,r.k6)((()=>[(0,r.bF)(u,{id:"members-card-header"},{default:(0,r.k6)((()=>[(0,r.bF)(d,{tag:"b",type:"primary",id:"title"},{default:(0,r.k6)((()=>[(0,r.bF)(n,null,{default:(0,r.k6)((()=>[(0,r.bF)(l)])),_:1}),(0,r.eW)(" Members ")])),_:1}),(0,r.bF)(u,{id:"new-button"},{default:(0,r.k6)((()=>[(0,r.bF)(c,{color:"#7f4af1",onClick:o.handleNewMember},{default:(0,r.k6)((()=>[(0,r.bF)(n,null,{default:(0,r.k6)((()=>[(0,r.bF)(m)])),_:1}),(0,r.eW)(" New ")])),_:1},8,["onClick"])])),_:1})])),_:1})])),footer:(0,r.k6)((()=>[(0,r.bF)(u,{id:"pagination"},{default:(0,r.k6)((()=>[(0,r.bF)(p,{background:"",small:"",layout:"prev, pager, next",total:o.totalMembers,"page-size":12,onCurrentChange:o.handlePageChange},null,8,["total","onCurrentChange"])])),_:1})])),default:(0,r.k6)((()=>[(0,r.bF)(g,{"table-data":o.slicedMembers,"is-preview":!1,"is-loading":a.isLoading,onUpdateMembersList:o.fetchMembers},null,8,["table-data","is-loading","onUpdateMembersList"])])),_:1})])),_:1})}var ke={components:{MembersTable:U},data(){return{members:[],currentPage:1,isLoading:!0}},watch:{"$store.getters.fetchingMemberStatus"(e){e.isValid||(0,M.nk)({message:e.message,type:"warning",offset:50})}},computed:{totalMembers(){return this.members.length},slicedMembers(){let e=this.members;const t=12*(this.currentPage-1),i=12*this.currentPage;return e.slice(t,i)}},methods:{handleNewMember(){Vt.push({name:"members-edit",query:{id:null}})},handlePageChange(e){this.currentPage=e},async fetchMembers(){await this.$store.dispatch("fetchMembers"),this.members=this.$store.getters.members,this.isLoading=!1}},created(){this.fetchMembers()}};const be=(0,c.A)(ke,[["render",fe],["__scopeId","data-v-3612b89c"]]);var _e=be;function Fe(e,t,i,s,a,o){const l=(0,r.g2)("User"),n=(0,r.g2)("el-icon"),d=(0,r.g2)("el-input"),m=(0,r.g2)("el-form-item"),c=(0,r.g2)("Male"),u=(0,r.g2)("el-radio-button"),g=(0,r.g2)("Female"),p=(0,r.g2)("el-radio-group"),h=(0,r.g2)("el-date-picker"),f=(0,r.g2)("SuitcaseLine"),k=(0,r.g2)("Phone"),b=(0,r.g2)("Message"),_=(0,r.g2)("Star"),F=(0,r.g2)("CirclePlusFilled"),w=(0,r.g2)("el-button"),y=(0,r.g2)("CircleCheckFilled"),C=(0,r.g2)("CircleCloseFilled"),v=(0,r.g2)("el-container"),x=(0,r.g2)("el-form"),j=(0,r.g2)("el-card"),S=(0,r.gN)("loading");return(0,r.uX)(),(0,r.Wv)(v,null,{default:(0,r.k6)((()=>[(0,r.bo)(((0,r.uX)(),(0,r.Wv)(j,{"element-loading-text":"Loading member data..."},{default:(0,r.k6)((()=>[(0,r.bF)(x,{model:a.form,rules:a.rules,"label-width":"auto","label-position":"right",ref:"form"},{default:(0,r.k6)((()=>[(0,r.bF)(m,{label:"Name",prop:"name"},{default:(0,r.k6)((()=>[(0,r.bF)(d,{modelValue:a.form.name,"onUpdate:modelValue":t[0]||(t[0]=e=>a.form.name=e),type:"text",clearable:""},{prepend:(0,r.k6)((()=>[(0,r.bF)(n,null,{default:(0,r.k6)((()=>[(0,r.bF)(l)])),_:1})])),_:1},8,["modelValue"])])),_:1}),(0,r.bF)(m,{label:"Sex",prop:"sex"},{default:(0,r.k6)((()=>[(0,r.bF)(p,{modelValue:a.form.sex,"onUpdate:modelValue":t[1]||(t[1]=e=>a.form.sex=e)},{default:(0,r.k6)((()=>[(0,r.bF)(u,{value:"Male"},{default:(0,r.k6)((()=>[(0,r.bF)(n,null,{default:(0,r.k6)((()=>[(0,r.bF)(c)])),_:1}),(0,r.eW)(" Male ")])),_:1}),(0,r.bF)(u,{value:"Female"},{default:(0,r.k6)((()=>[(0,r.bF)(n,null,{default:(0,r.k6)((()=>[(0,r.bF)(g)])),_:1}),(0,r.eW)(" Female ")])),_:1})])),_:1},8,["modelValue"])])),_:1}),(0,r.bF)(m,{label:"Birthday",prop:"birthday"},{default:(0,r.k6)((()=>[(0,r.bF)(h,{modelValue:a.form.birthday,"onUpdate:modelValue":t[2]||(t[2]=e=>a.form.birthday=e),type:"date","value-format":"YYYY-MM-DD",placeholder:"Pick a date",style:{width:"100%"}},null,8,["modelValue"])])),_:1}),(0,r.bF)(m,{label:"Occupation",prop:"occupation"},{default:(0,r.k6)((()=>[(0,r.bF)(d,{modelValue:a.form.occupation,"onUpdate:modelValue":t[3]||(t[3]=e=>a.form.occupation=e),type:"text",clearable:""},{prepend:(0,r.k6)((()=>[(0,r.bF)(n,null,{default:(0,r.k6)((()=>[(0,r.bF)(f)])),_:1})])),_:1},8,["modelValue"])])),_:1}),(0,r.bF)(m,{label:"Phone",prop:"phone"},{default:(0,r.k6)((()=>[(0,r.bF)(d,{modelValue:a.form.phone,"onUpdate:modelValue":t[4]||(t[4]=e=>a.form.phone=e),type:"text",clearable:""},{prepend:(0,r.k6)((()=>[(0,r.bF)(n,null,{default:(0,r.k6)((()=>[(0,r.bF)(k)])),_:1})])),_:1},8,["modelValue"])])),_:1}),(0,r.bF)(m,{label:"Email",prop:"email"},{default:(0,r.k6)((()=>[(0,r.bF)(d,{modelValue:a.form.email,"onUpdate:modelValue":t[5]||(t[5]=e=>a.form.email=e),type:"text",clearable:""},{prepend:(0,r.k6)((()=>[(0,r.bF)(n,null,{default:(0,r.k6)((()=>[(0,r.bF)(b)])),_:1})])),_:1},8,["modelValue"])])),_:1}),(0,r.bF)(m,{label:"Interest",prop:"interest"},{default:(0,r.k6)((()=>[(0,r.bF)(d,{modelValue:a.form.interest,"onUpdate:modelValue":t[6]||(t[6]=e=>a.form.interest=e),type:"text",clearable:""},{prepend:(0,r.k6)((()=>[(0,r.bF)(n,null,{default:(0,r.k6)((()=>[(0,r.bF)(_)])),_:1})])),_:1},8,["modelValue"])])),_:1}),(0,r.bF)(v,{id:"buttons"},{default:(0,r.k6)((()=>[(0,r.bF)(m,{id:"buttons"},{default:(0,r.k6)((()=>["new"===o.mode?((0,r.uX)(),(0,r.Wv)(w,{key:0,color:"#7f4af1",onClick:o.submitForm,loading:a.isOngoingRequest},{default:(0,r.k6)((()=>[(0,r.bF)(n,null,{default:(0,r.k6)((()=>[(0,r.bF)(F)])),_:1}),(0,r.eW)(" Add ")])),_:1},8,["onClick","loading"])):((0,r.uX)(),(0,r.Wv)(w,{key:1,color:"#7f4af1",onClick:o.submitForm,loading:a.isOngoingRequest},{default:(0,r.k6)((()=>[(0,r.bF)(n,null,{default:(0,r.k6)((()=>[(0,r.bF)(y)])),_:1}),(0,r.eW)(" Edit ")])),_:1},8,["onClick","loading"])),(0,r.bF)(w,{color:"#7f4af1",plain:"",onClick:o.handleClickCancel,loading:a.isOngoingRequest},{default:(0,r.k6)((()=>[(0,r.bF)(n,null,{default:(0,r.k6)((()=>[(0,r.bF)(C)])),_:1}),(0,r.eW)(" Cancel ")])),_:1},8,["onClick","loading"])])),_:1})])),_:1})])),_:1},8,["model","rules"])])),_:1})),[[S,a.isLoading]])])),_:1})}var we={data(){return{id:this.$route.query.id,form:{id:"",name:"",sex:"",birthday:"",occupation:"",phone:"",email:"",interest:""},rules:{name:[{required:!0,message:"Name is empty",trigger:"blur"},{max:20,message:"Character limit exceeded",trigger:"blur"},{pattern:this.$store.getters.nameRegex,message:"Katakana or Hiragana characters only",trigger:"blur"}],sex:[{required:!0,message:"No sex selected",trigger:"blur"}],birthday:[{required:!0,message:"No date selected",trigger:"blur"},{validator:this.isDateValid,trigger:"blur"}],occupation:[{required:!0,message:"Occupation is empty",trigger:"blur"},{max:40,message:"Character limit exceeded",trigger:"blur"}],phone:[{required:!0,message:"Phone is empty",trigger:"blur"},{min:9,message:"Minimum of 9 characters",trigger:"blur"},{max:12,message:"Character limit exceeded",trigger:"blur"},{pattern:this.$store.getters.phoneRegex,message:"Use 0-9 digits only",trigger:"blur"}],email:[{required:!0,message:"Email is empty",trigger:"blur"},{min:5,message:"Minimum of 5 characters",trigger:"blur"},{max:50,message:"Character limit exceeded",trigger:"blur"},{pattern:this.$store.getters.emailRegex,message:"Email is invalid. Use 'xxx@xxx.xx' format",trigger:"blur"}],interest:[{required:!0,message:"Interest is empty",trigger:"blur"},{max:30,message:"Character limit exceeded",trigger:"blur"}]},isLoading:!0,isOngoingRequest:!1}},computed:{mode(){return null===this.$route.query.id?"new":"edit"},parsedFormData(){return{name:this.form.name.trim(),sex:this.form.sex,birthday:this.form.birthday,occupation:this.form.occupation.trim(),phone:this.form.phone.trim(),email:this.form.email.trim(),interest:this.form.interest.trim()}}},methods:{async populateForm(){if("new"===this.mode)this.clearForm();else{await this.$store.dispatch("fetchMember",{id:this.id});const e=this.$store.getters.selectedMember;this.form={id:e.id,name:e.name,sex:e.sex,birthday:e.birthday,occupation:e.occupation,phone:e.phone,email:e.email,interest:e.interest}}this.isLoading=!1},submitForm(){this.isOngoingRequest=!0,this.$refs.form.validate((e=>{e?"new"===this.mode?this.submitAdd():this.submitEdit():(this.isOngoingRequest=!1,this.showDialogBox("Please fix the form before submit.","warning"))}))},async submitEdit(){const e={id:this.form.id,updatedData:this.parsedFormData};await this.$store.dispatch("editMember",e);const t=this.$store.getters.editMemberStatus;t.isValid?(this.showDialogBox(t.message,"success"),this.clearForm(),Vt.push({name:"members"})):this.$store.getters.isTokenExpired||this.showDialogBox(t.message,"error"),this.isOngoingRequest=!1},async submitAdd(){const e=this.parsedFormData;await this.$store.dispatch("addMember",e);const t=this.$store.getters.addMemberStatus;t.isValid?(this.showDialogBox(t.message,"success"),this.clearForm(),Vt.push({name:"members"})):this.$store.getters.isTokenExpired||this.showDialogBox(t.message,"error"),this.isOngoingRequest=!1},isDateValid(e,t,i){const s=new Date(t),a=new Date;isNaN(s)?i(new Error("Invalid date")):s>a?i(new Error("Cannot select future dates")):i()},clearForm(){this.form={id:"",name:"",sex:"",birthday:"",occupation:"",phone:"",email:"",interest:""},console.clear()},handleClickCancel(){Vt.push({name:"members"})},showDialogBox(e,t){(0,M.nk)({message:e,type:t,offset:50})}},async created(){await this.populateForm()}};const ye=(0,c.A)(we,[["render",Fe],["__scopeId","data-v-2830c299"]]);var Ce=ye;function ve(e,t,i,s,a,o){const l=(0,r.g2)("Comment"),n=(0,r.g2)("el-icon"),d=(0,r.g2)("el-text"),m=(0,r.g2)("CirclePlus"),c=(0,r.g2)("el-button"),u=(0,r.g2)("el-container"),g=(0,r.g2)("topics-list"),p=(0,r.g2)("el-pagination"),h=(0,r.g2)("el-card");return(0,r.uX)(),(0,r.Wv)(u,{id:"main"},{default:(0,r.k6)((()=>[(0,r.bF)(h,{"body-style":"height: 550px",id:"topics-card"},{header:(0,r.k6)((()=>[(0,r.bF)(u,{id:"topics-card-header"},{default:(0,r.k6)((()=>[(0,r.bF)(d,{tag:"b",type:"primary",id:"title"},{default:(0,r.k6)((()=>[(0,r.bF)(n,null,{default:(0,r.k6)((()=>[(0,r.bF)(l)])),_:1}),(0,r.eW)(" Topics ")])),_:1}),(0,r.bF)(u,{id:"new-button"},{default:(0,r.k6)((()=>[(0,r.bF)(c,{color:"#7f4af1",onClick:o.handleClickNewTopic},{default:(0,r.k6)((()=>[(0,r.bF)(n,null,{default:(0,r.k6)((()=>[(0,r.bF)(m)])),_:1}),(0,r.eW)(" New ")])),_:1},8,["onClick"])])),_:1})])),_:1})])),footer:(0,r.k6)((()=>[(0,r.bF)(u,{id:"pagination"},{default:(0,r.k6)((()=>[(0,r.bF)(p,{background:"",small:"",layout:"prev, pager, next",total:o.totalTopics,"page-size":5,onCurrentChange:o.handlePageChange},null,8,["total","onCurrentChange"])])),_:1})])),default:(0,r.k6)((()=>[(0,r.bF)(g,{"topics-list":o.slicedTopics,"is-loading":a.isTopicsLoading,onDataUpdated:o.fetchTopics},null,8,["topics-list","is-loading","onDataUpdated"])])),_:1})])),_:1})}var xe={components:{TopicsList:re},data(){return{topics:[],currentPage:1,isTopicsLoading:!0}},computed:{totalTopics(){return this.topics.length},slicedTopics(){let e=this.topics;const t=5*(this.currentPage-1),i=5*this.currentPage;return e.slice(t,i)}},watch:{"$store.getters.fetchingTopicStatus"(e){e.isValid||(0,M.nk)({message:e.message,type:"warning",offset:50})}},methods:{handleClickNewTopic(){Vt.push({name:"topic-edit",query:{id:null}})},handlePageChange(e){this.currentPage=e},async fetchTopics(){await this.$store.dispatch("fetchTopics"),this.topics=this.$store.getters.topics,this.isTopicsLoading=!1}},created(){this.fetchTopics()}};const je=(0,c.A)(xe,[["render",ve],["__scopeId","data-v-49b62dac"]]);var Se=je;function Te(e,t,i,s,a,o){const l=(0,r.g2)("ArrowLeftBold"),n=(0,r.g2)("el-icon"),d=(0,r.g2)("el-button"),m=(0,r.g2)("el-container"),c=(0,r.g2)("topic-detailv2"),u=(0,r.g2)("el-text"),g=(0,r.g2)("el-empty"),p=(0,r.g2)("topic-comment"),h=(0,r.g2)("el-card"),f=(0,r.g2)("el-scrollbar"),k=(0,r.g2)("el-input"),b=(0,r.g2)("el-form-item"),_=(0,r.g2)("Promotion"),F=(0,r.g2)("el-form"),w=(0,r.gN)("loading");return(0,r.uX)(),(0,r.Wv)(m,{id:"main"},{default:(0,r.k6)((()=>[(0,r.bo)(((0,r.uX)(),(0,r.Wv)(h,{id:"card","body-style":"height: 400px","element-loading-text":"Loading topic data..."},{header:(0,r.k6)((()=>[(0,r.bF)(m,null,{default:(0,r.k6)((()=>[(0,r.bF)(d,{color:"#7f4af1",onClick:o.handleClickBack},{default:(0,r.k6)((()=>[(0,r.bF)(n,null,{default:(0,r.k6)((()=>[(0,r.bF)(l)])),_:1}),(0,r.eW)(" Back ")])),_:1},8,["onClick"])])),_:1}),(0,r.bF)(m,null,{default:(0,r.k6)((()=>[(0,r.bF)(c,{style:{width:"100%"},topic:a.topic,onDataUpdated:o.fetchTopic},null,8,["topic","onDataUpdated"])])),_:1})])),footer:(0,r.k6)((()=>[(0,r.bF)(m,{id:"comment-box"},{default:(0,r.k6)((()=>[(0,r.bF)(F,{model:a.commentForm,rules:a.commentRules,ref:"form"},{default:(0,r.k6)((()=>[(0,r.bF)(b,{prop:"comment"},{default:(0,r.k6)((()=>[(0,r.bF)(k,{rows:3,type:"textarea",placeholder:"Type your comment here",modelValue:a.commentForm.comment,"onUpdate:modelValue":t[0]||(t[0]=e=>a.commentForm.comment=e)},null,8,["modelValue"])])),_:1}),(0,r.bF)(b,null,{default:(0,r.k6)((()=>[(0,r.bF)(m,{id:"sendcomment"},{default:(0,r.k6)((()=>[(0,r.bF)(d,{color:"#7f4af1",onClick:o.validateComment,loading:a.isOngoingRequest},{default:(0,r.k6)((()=>[(0,r.bF)(n,null,{default:(0,r.k6)((()=>[(0,r.bF)(_)])),_:1}),(0,r.eW)(" Send ")])),_:1},8,["onClick","loading"])])),_:1})])),_:1})])),_:1},8,["model","rules"])])),_:1})])),default:(0,r.k6)((()=>[(0,r.bF)(u,{type:"primary",tag:"b",id:"divider"},{default:(0,r.k6)((()=>[(0,r.eW)("Comments")])),_:1}),(0,r.bF)(f,null,{default:(0,r.k6)((()=>[0===a.topic.comments.length?((0,r.uX)(),(0,r.Wv)(g,{key:0,description:"No items to display."})):((0,r.uX)(!0),(0,r.CE)(r.FK,{key:1},(0,r.pI)(o.reversedComments,(e=>((0,r.uX)(),(0,r.Wv)(h,{id:"comment",shadow:"never",key:e},{default:(0,r.k6)((()=>[(0,r.bF)(p,{comment:e,"topic-owner":a.topic.owner_localId,"topic-id":a.topic.id,onDataUpdated:o.fetchTopic},null,8,["comment","topic-owner","topic-id","onDataUpdated"])])),_:2},1024)))),128))])),_:1})])),_:1})),[[w,a.isLoading]])])),_:1})}const Le=e=>((0,r.Qi)("data-v-f7a53d12"),e=e(),(0,r.jt)(),e),Ve=Le((()=>(0,r.Lk)("svg",{width:"64px",height:"64px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[(0,r.Lk)("g",{id:"SVGRepo_bgCarrier","stroke-width":"0"}),(0,r.Lk)("g",{id:"SVGRepo_tracerCarrier","stroke-linecap":"round","stroke-linejoin":"round"}),(0,r.Lk)("g",{id:"SVGRepo_iconCarrier"},[(0,r.Lk)("path",{d:"M2 9.1371C2 14 6.01943 16.5914 8.96173 18.9109C10 19.7294 11 20.5 12 20.5C13 20.5 14 19.7294 15.0383 18.9109C17.9806 16.5914 22 14 22 9.1371C22 4.27416 16.4998 0.825464 12 5.50063C7.50016 0.825464 2 4.27416 2 9.1371Z",fill:"#a17af5"})])],-1))),Ie=Le((()=>(0,r.Lk)("svg",{width:"64px",height:"64px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"#a17af5","stroke-width":"1.3679999999999999"},[(0,r.Lk)("g",{id:"SVGRepo_bgCarrier","stroke-width":"0"}),(0,r.Lk)("g",{id:"SVGRepo_tracerCarrier","stroke-linecap":"round","stroke-linejoin":"round"}),(0,r.Lk)("g",{id:"SVGRepo_iconCarrier"},[(0,r.Lk)("path",{d:"M2 9.1371C2 14 6.01943 16.5914 8.96173 18.9109C10 19.7294 11 20.5 12 20.5C13 20.5 14 19.7294 15.0383 18.9109C17.9806 16.5914 22 14 22 9.1371C22 4.27416 16.4998 0.825464 12 5.50063C7.50016 0.825464 2 4.27416 2 9.1371Z",fill:"#fff"})])],-1)));function Me(e,t,i,s,a,o){const l=(0,r.g2)("el-text"),n=(0,r.g2)("el-col"),d=(0,r.g2)("el-row"),m=(0,r.g2)("el-avatar"),c=(0,r.g2)("el-aside"),u=(0,r.g2)("el-main"),g=(0,r.g2)("el-container"),p=(0,r.g2)("Edit"),h=(0,r.g2)("el-icon"),k=(0,r.g2)("el-button"),b=(0,r.g2)("el-tooltip"),_=(0,r.g2)("el-card");return(0,r.uX)(),(0,r.Wv)(_,{shadow:"never","body-style":"padding: 0.7rem 1rem",id:"main"},{default:(0,r.k6)((()=>[(0,r.bF)(d,{id:"title"},{default:(0,r.k6)((()=>[(0,r.bF)(n,null,{default:(0,r.k6)((()=>[(0,r.bF)(l,{id:"title",type:"primary",tag:"b"},{default:(0,r.k6)((()=>[(0,r.eW)((0,f.v_)(i.topic.title),1)])),_:1})])),_:1})])),_:1}),(0,r.bF)(d,{align:"middle"},{default:(0,r.k6)((()=>[(0,r.bF)(n,{span:21},{default:(0,r.k6)((()=>[(0,r.bF)(g,null,{default:(0,r.k6)((()=>[(0,r.bF)(c,{width:"50px"},{default:(0,r.k6)((()=>[(0,r.bF)(m,{id:"owner"},{default:(0,r.k6)((()=>[(0,r.eW)((0,f.v_)(i.topic.owner_email.charAt(0).toUpperCase()),1)])),_:1})])),_:1}),(0,r.bF)(u,null,{default:(0,r.k6)((()=>[(0,r.bF)(d,null,{default:(0,r.k6)((()=>[(0,r.bF)(n,null,{default:(0,r.k6)((()=>[(0,r.bF)(l,{size:"large"},{default:(0,r.k6)((()=>[(0,r.eW)((0,f.v_)(i.topic.owner_email),1)])),_:1})])),_:1}),(0,r.bF)(n,null,{default:(0,r.k6)((()=>[(0,r.bF)(l,{size:"small"},{default:(0,r.k6)((()=>[(0,r.eW)((0,f.v_)(i.topic.timestamp),1)])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1}),(0,r.bF)(n,{span:3},{default:(0,r.k6)((()=>[(0,r.bF)(g,{id:"header-right"},{default:(0,r.k6)((()=>[o.isOwnedByCurrentUser?((0,r.uX)(),(0,r.Wv)(k,{key:0,color:"dodgerblue",onClick:o.handleClickEditTopic},{default:(0,r.k6)((()=>[(0,r.bF)(h,null,{default:(0,r.k6)((()=>[(0,r.bF)(p)])),_:1}),(0,r.eW)(" Edit ")])),_:1},8,["onClick"])):(0,r.Q3)("",!0),(0,r.bF)(b,{effect:"light",placement:"right"},{content:(0,r.k6)((()=>[0!==i.topic.likes.length?((0,r.uX)(),(0,r.Wv)(g,{key:0,style:{"flex-direction":"column","justify-content":"start"}},{default:(0,r.k6)((()=>[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.topic.likes,(e=>((0,r.uX)(),(0,r.Wv)(l,{size:"small",key:e.likesId},{default:(0,r.k6)((()=>[(0,r.eW)((0,f.v_)(e.liker_email),1)])),_:2},1024)))),128))])),_:1})):((0,r.uX)(),(0,r.Wv)(l,{key:1,size:"small"},{default:(0,r.k6)((()=>[(0,r.eW)("no likes yet.")])),_:1}))])),default:(0,r.k6)((()=>[o.isLiked?((0,r.uX)(),(0,r.Wv)(k,{key:0,circle:"",onClick:o.handleClickUnlike,disabled:a.isOngoingRequest},{default:(0,r.k6)((()=>[(0,r.bF)(h,{size:"25"},{default:(0,r.k6)((()=>[Ve])),_:1})])),_:1},8,["onClick","disabled"])):((0,r.uX)(),(0,r.Wv)(k,{key:1,circle:"",onClick:o.handleClickLike,disabled:a.isOngoingRequest},{default:(0,r.k6)((()=>[(0,r.bF)(h,{size:"25"},{default:(0,r.k6)((()=>[Ie])),_:1})])),_:1},8,["onClick","disabled"]))])),_:1}),(0,r.bF)(l,null,{default:(0,r.k6)((()=>[(0,r.eW)((0,f.v_)(i.topic.likes.length),1)])),_:1})])),_:1})])),_:1})])),_:1}),(0,r.bF)(d,null,{default:(0,r.k6)((()=>[(0,r.bF)(n,null,{default:(0,r.k6)((()=>[(0,r.bF)(_,{shadow:"never",id:"content"},{default:(0,r.k6)((()=>[(0,r.bF)(l,{innerHTML:i.topic.content,id:"content"},null,8,["innerHTML"])])),_:1})])),_:1})])),_:1})])),_:1})}var $e={props:{topic:{required:!0,type:Object}},emits:["data-updated"],data(){return{isOngoingRequest:!1}},computed:{isLiked(){const e=this.$store.getters.localId;let t=!1;return this.topic.likes.forEach((i=>{i.liker_localId===e&&(t=!0)})),t},isOwnedByCurrentUser(){return this.$store.getters.localId===this.topic.owner_localId}},methods:{handleClickEditTopic(){Vt.push({name:"topic-edit",query:{id:this.topic.id}})},async handleClickLike(){this.isOngoingRequest=!0;const e={id:this.topic.id,title:this.topic.title,newData:{liker_localId:this.$store.getters.localId,liker_email:this.$store.getters.email}};await this.$store.dispatch("likeTopic",e);const t=this.$store.getters.likeTopicStatus;t.isValid?(this.showDialogBox(t.message,"success"),this.requestUpdate()):this.showDialogBox(t.message,"error"),this.isOngoingRequest=!1},async handleClickUnlike(){this.isOngoingRequest=!0;const e={topicId:this.topic.id,title:this.topic.title};await this.$store.dispatch("unlikeTopic",e);const t=this.$store.getters.unlikeTopicStatus;t.isValid?this.showDialogBox(t.message,"success"):this.showDialogBox(t.message,"error"),this.requestUpdate(),this.isOngoingRequest=!1},showDialogBox(e,t){(0,M.nk)({message:e,type:t,offset:50})},requestUpdate(){this.$emit("data-updated")}}};const We=(0,c.A)($e,[["render",Me],["__scopeId","data-v-f7a53d12"]]);var qe=We;function De(e,t,i,s,a,o){const l=(0,r.g2)("el-avatar"),n=(0,r.g2)("el-aside"),d=(0,r.g2)("el-text"),m=(0,r.g2)("el-col"),c=(0,r.g2)("el-row"),u=(0,r.g2)("el-main"),g=(0,r.g2)("CircleClose"),p=(0,r.g2)("el-icon"),h=(0,r.g2)("el-button"),k=(0,r.g2)("el-container"),b=(0,r.g2)("el-card");return(0,r.uX)(),(0,r.Wv)(k,null,{default:(0,r.k6)((()=>[(0,r.bF)(n,{width:"50px"},{default:(0,r.k6)((()=>[(0,r.bF)(l,{id:"username"},{default:(0,r.k6)((()=>[(0,r.eW)((0,f.v_)(i.comment.comment_email.charAt(0).toUpperCase()),1)])),_:1})])),_:1}),(0,r.bF)(u,null,{default:(0,r.k6)((()=>[(0,r.bF)(c,null,{default:(0,r.k6)((()=>[(0,r.bF)(m,{id:"upper"},{default:(0,r.k6)((()=>[(0,r.bF)(k,null,{default:(0,r.k6)((()=>[(0,r.bF)(u,null,{default:(0,r.k6)((()=>[(0,r.bF)(c,null,{default:(0,r.k6)((()=>[(0,r.bF)(m,null,{default:(0,r.k6)((()=>[(0,r.bF)(d,{tag:"b",type:"primary"},{default:(0,r.k6)((()=>[(0,r.eW)((0,f.v_)(i.comment.comment_email),1)])),_:1})])),_:1}),(0,r.bF)(m,null,{default:(0,r.k6)((()=>[(0,r.bF)(d,{size:"small"},{default:(0,r.k6)((()=>[(0,r.eW)((0,f.v_)(i.comment.comment_timestamp),1)])),_:1})])),_:1})])),_:1})])),_:1}),(0,r.bF)(n,{width:"90px",id:"delete"},{default:(0,r.k6)((()=>[o.isOwnedByCurrentUser?((0,r.uX)(),(0,r.Wv)(h,{key:0,type:"danger",size:"small",onClick:o.handleClickDelete,loading:a.isOngoingRequest},{default:(0,r.k6)((()=>[(0,r.bF)(p,null,{default:(0,r.k6)((()=>[(0,r.bF)(g)])),_:1}),(0,r.eW)(" Delete ")])),_:1},8,["onClick","loading"])):(0,r.Q3)("",!0)])),_:1})])),_:1})])),_:1}),(0,r.bF)(m,null,{default:(0,r.k6)((()=>[(0,r.bF)(b,{shadow:"never","body-style":"padding: 0.75rem"},{default:(0,r.k6)((()=>[(0,r.bF)(d,{innerHTML:i.comment.comment_content},null,8,["innerHTML"])])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})}var Ee={props:{comment:{type:Object,required:!0},topicOwner:{type:String,required:!0},topicId:{type:String,required:!0}},emits:["data-updated"],data(){return{isOngoingRequest:!1}},computed:{isOwnedByCurrentUser(){return this.$store.getters.localId===this.topicOwner}},methods:{async handleClickDelete(){this.isOngoingRequest=!0;const e={commentId:this.comment.id,topicId:this.topicId};await this.$store.dispatch("deleteComment",e);const t=this.$store.getters.deleteCommentStatus;t.isValid?(this.showDialogBox(t.message,"success"),this.requestUpdate()):this.showDialogBox(t.message,"error"),this.isOngoingRequest=!1},showDialogBox(e,t){(0,M.nk)({message:e,type:t,offset:50})},requestUpdate(){this.$emit("data-updated")}}};const Oe=(0,c.A)(Ee,[["render",De],["__scopeId","data-v-431e70d6"]]);var Re=Oe,Ae={components:{TopicDetailv2:qe,TopicComment:Re},data(){return{id:this.$route.query.id,topic:{id:"",title:"",content:"",owner_localId:"",owner_email:"",timestamp:"2024-06-19",likes:[],comments:[]},commentForm:{comment:""},commentRules:{comment:[{required:!0,message:"Comment is empty",trigger:"blur"}]},isLoading:!0,isOngoingRequest:!1}},computed:{reversedComments(){let e=this.topic.comments;return e.reverse()}},methods:{async fetchTopic(){await this.$store.dispatch("fetchTopic",{id:this.id});const e=this.$store.getters.selectedTopic;this.topic={id:e.id,title:e.title,content:e.content,owner_localId:e.owner_localId,owner_email:e.owner_email,timestamp:e.timestamp,likes:e.likes,comments:e.comments},this.isLoading=!1},handleClickBack(){Vt.push({name:"topics"})},validateComment(){this.$refs.form.validate((e=>{e&&(this.handleClickSendComment(),console.clear())}))},async handleClickSendComment(){this.isOngoingRequest=!0;const e=`${n()().format("L")} ${n()().format("LT")}`,t={id:this.topic.id,newData:{comment_content:this.commentForm.comment.trim(),comment_timestamp:e,comment_email:this.$store.getters.email,comment_localId:this.$store.getters.localId}};await this.$store.dispatch("addComment",t);const i=this.$store.getters.addCommentStatus;i.isValid?(this.showDialogBox(i.message,"success"),this.fetchTopic(),this.commentForm.comment=""):this.showDialogBox("Failed to add comment","error"),this.isOngoingRequest=!1},showDialogBox(e,t){(0,M.nk)({message:e,type:t,offset:50})}},created(){this.fetchTopic()}};const Ue=(0,c.A)(Ae,[["render",Te],["__scopeId","data-v-b463cf4c"]]);var Be=Ue;function ze(e,t,i,s,a,o){const l=(0,r.g2)("el-input"),n=(0,r.g2)("el-form-item"),d=(0,r.g2)("CirclePlusFilled"),m=(0,r.g2)("el-icon"),c=(0,r.g2)("el-button"),u=(0,r.g2)("CircleCheckFilled"),g=(0,r.g2)("CircleCloseFilled"),p=(0,r.g2)("el-container"),h=(0,r.g2)("el-form"),f=(0,r.g2)("el-card"),k=(0,r.gN)("loading");return(0,r.uX)(),(0,r.Wv)(p,null,{default:(0,r.k6)((()=>[(0,r.bF)(f,null,{default:(0,r.k6)((()=>[(0,r.bo)(((0,r.uX)(),(0,r.Wv)(h,{model:a.form,rules:a.rules,"label-width":"auto","label-position":"right",ref:"form","element-loading-text":"Loading topic data..."},{default:(0,r.k6)((()=>[(0,r.bF)(n,{label:"Title",prop:"title"},{default:(0,r.k6)((()=>[(0,r.bF)(l,{modelValue:a.form.title,"onUpdate:modelValue":t[0]||(t[0]=e=>a.form.title=e),type:"text",clearable:""},null,8,["modelValue"])])),_:1}),(0,r.bF)(n,{label:"Content",prop:"content"},{default:(0,r.k6)((()=>[(0,r.bF)(l,{modelValue:a.form.content,"onUpdate:modelValue":t[1]||(t[1]=e=>a.form.content=e),type:"textarea",rows:"5"},null,8,["modelValue"])])),_:1}),(0,r.bF)(p,{id:"buttons"},{default:(0,r.k6)((()=>[(0,r.bF)(n,{id:"buttons"},{default:(0,r.k6)((()=>["new"===o.mode?((0,r.uX)(),(0,r.Wv)(c,{key:0,color:"#7f4af1",onClick:o.submitForm,loading:a.isOngoingRequest},{default:(0,r.k6)((()=>[(0,r.bF)(m,null,{default:(0,r.k6)((()=>[(0,r.bF)(d)])),_:1}),(0,r.eW)(" Create ")])),_:1},8,["onClick","loading"])):((0,r.uX)(),(0,r.Wv)(c,{key:1,color:"#7f4af1",onClick:o.submitForm,loading:a.isOngoingRequest},{default:(0,r.k6)((()=>[(0,r.bF)(m,null,{default:(0,r.k6)((()=>[(0,r.bF)(u)])),_:1}),(0,r.eW)(" Edit ")])),_:1},8,["onClick","loading"])),(0,r.bF)(c,{color:"#7f4af1",plain:"",onClick:o.handleClickCancel,loading:a.isOngoingRequest},{default:(0,r.k6)((()=>[(0,r.bF)(m,null,{default:(0,r.k6)((()=>[(0,r.bF)(g)])),_:1}),(0,r.eW)(" Cancel ")])),_:1},8,["onClick","loading"])])),_:1})])),_:1})])),_:1},8,["model","rules"])),[[k,a.isLoading]])])),_:1})])),_:1})}var Pe={data(){return{id:this.$route.query.id,form:{title:"",content:""},rules:{title:[{required:!0,message:"Title is empty",trigger:"blur"},{max:50,message:"Character limit exceeded",trigger:"blur"}],content:[{required:!0,message:"Content is empty",trigger:"blur"},{max:4e3,message:"Character limit exceeded",trigger:"blur"}]},isLoading:!0,isOngoingRequest:!1}},computed:{mode(){return null===this.$route.query.id?"new":"edit"},parsedFormData(){const e=`${n()().format("L")} ${n()().format("LT")}`;return"new"===this.mode?{title:this.form.title.trim(),content:this.form.content.trim(),owner_localId:this.$store.getters.localId,owner_email:this.$store.getters.email,timestamp:e,likes:[{liker_localId:"placeholder",liker_email:"placeholder"}],comments:[{commenter_localId:"placeholder",commenter_email:"placeholder",comment_timestamp:"placeholder",comment_content:"placeholder"}]}:{id:this.id,updatedData:{title:this.form.title.trim(),content:this.form.content.trim(),timestamp:e}}}},methods:{async populateForm(){if("new"===this.mode)this.clearForm();else{await this.$store.dispatch("fetchTopic",{id:this.id});const e=this.$store.getters.selectedTopic;this.form={title:e.title,content:e.content}}this.isLoading=!1},submitForm(){this.isOngoingRequest=!0,this.$refs.form.validate((e=>{e?"new"===this.mode?this.submitAdd():this.submitEdit():(this.isOngoingRequest=!1,this.showDialogBox("Please fix the form before submit.","warning"))}))},async submitAdd(){const e=this.parsedFormData;await this.$store.dispatch("addTopic",e);const t=this.$store.getters.addTopicStatus;t.isValid?(this.showDialogBox(t.message,"success"),this.clearForm(),Vt.push({name:"topics"})):this.$store.getters.isTokenExpired||this.showDialogBox(t.message,"error"),this.isOngoingRequest=!1},async submitEdit(){const e=this.parsedFormData;await this.$store.dispatch("editTopic",e);const t=this.$store.getters.editTopicStatus;t.isValid?(this.showDialogBox(t.message,"success"),this.clearForm(),Vt.push({name:"topics-detail",query:{id:this.id}})):this.$store.getters.isTokenExpired||this.showDialogBox(t.message,"error"),this.isOngoingRequest=!1},clearForm(){this.form={title:"",content:""},console.clear()},showDialogBox(e,t){(0,M.nk)({message:e,type:t,offset:50})},handleClickCancel(){"new"===this.mode?Vt.push({name:"topics"}):Vt.push({name:"topics-detail",query:{id:this.id}})}},async created(){await this.populateForm()}};const Xe=(0,c.A)(Pe,[["render",ze],["__scopeId","data-v-38828350"]]);var Ne=Xe;function Ge(e,t,i,s,a,o){const l=(0,r.g2)("el-image"),n=(0,r.g2)("el-container"),d=(0,r.g2)("Message"),m=(0,r.g2)("el-icon"),c=(0,r.g2)("el-input"),u=(0,r.g2)("el-form-item"),g=(0,r.g2)("Lock"),p=(0,r.g2)("UserFilled"),h=(0,r.g2)("el-button"),f=(0,r.g2)("el-text"),k=(0,r.g2)("el-link"),b=(0,r.g2)("el-form"),_=(0,r.g2)("el-card"),F=(0,r.gN)("loading");return(0,r.uX)(),(0,r.Wv)(n,{id:"form"},{default:(0,r.k6)((()=>[(0,r.bF)(_,null,{default:(0,r.k6)((()=>[(0,r.bF)(b,{model:a.form,rules:a.rules,"label-width":"auto","label-position":"right",ref:"form"},{default:(0,r.k6)((()=>[(0,r.bF)(n,{class:"form-item",style:{"padding-bottom":"1rem"}},{default:(0,r.k6)((()=>[(0,r.bF)(l,{src:a.logo,alt:"logo"},null,8,["src"])])),_:1}),(0,r.bF)(u,{label:"Email",prop:"email"},{default:(0,r.k6)((()=>[(0,r.bF)(c,{type:"email",modelValue:a.form.email,"onUpdate:modelValue":t[0]||(t[0]=e=>a.form.email=e),clearable:""},{prepend:(0,r.k6)((()=>[(0,r.bF)(m,null,{default:(0,r.k6)((()=>[(0,r.bF)(d)])),_:1})])),_:1},8,["modelValue"])])),_:1}),(0,r.bF)(u,{label:"Password",prop:"password"},{default:(0,r.k6)((()=>[(0,r.bF)(c,{type:"password",modelValue:a.form.password,"onUpdate:modelValue":t[1]||(t[1]=e=>a.form.password=e),clearable:"","show-password":""},{prepend:(0,r.k6)((()=>[(0,r.bF)(m,null,{default:(0,r.k6)((()=>[(0,r.bF)(g)])),_:1})])),_:1},8,["modelValue"])])),_:1}),(0,r.bF)(u,null,{default:(0,r.k6)((()=>[(0,r.bF)(n,{class:"form-item buttons"},{default:(0,r.k6)((()=>[a.isLoading?(0,r.bo)(((0,r.uX)(),(0,r.Wv)(n,{key:1},null,512)),[[F,!0]]):((0,r.uX)(),(0,r.Wv)(h,{key:0,round:"",color:"#7f4af1",onClick:o.submitForm},{default:(0,r.k6)((()=>[(0,r.bF)(m,null,{default:(0,r.k6)((()=>[(0,r.bF)(p)])),_:1}),(0,r.eW)(" LOGIN ")])),_:1},8,["onClick"]))])),_:1})])),_:1}),(0,r.bF)(n,{class:"form-item"},{default:(0,r.k6)((()=>[(0,r.bF)(f,null,{default:(0,r.k6)((()=>[(0,r.eW)("No account? ")])),_:1}),(0,r.bF)(k,{type:"primary",underline:!1,href:"#/signup"},{default:(0,r.k6)((()=>[(0,r.eW)(" signup now. ")])),_:1})])),_:1})])),_:1},8,["model","rules"])])),_:1})])),_:1})}var Ke={data(){return{logo:F,form:{email:"",password:""},rules:{email:[{required:!0,message:"Email is empty",trigger:"blur"}],password:[{required:!0,message:"Password is empty",trigger:"blur"}]},isLoading:!1}},methods:{async submitForm(){this.isLoading=!0,await this.$refs.form.validate((async e=>{if(e){const e={email:this.form.email.trim(),password:this.form.password.trim()};await this.$store.dispatch("login",e);const t=this.$store.getters.loginStatus;t.isValid?(this.isLoading=!1,this.showDialogBox(t.message,"success"),this.clearForm(),Vt.push({name:"home"})):(this.isLoading=!1,this.showDialogBox(t.message,"error"))}else this.isLoading=!1,this.showDialogBox("Please fix the form before submit.","warning")}))},clearForm(){this.form.email="",this.form.password="",console.clear()},showDialogBox(e,t){(0,M.nk)({message:e,type:t,offset:50})}}};const He=(0,c.A)(Ke,[["render",Ge],["__scopeId","data-v-59a9d3af"]]);var Ze=He;function Ye(e,t,i,s,a,o){const l=(0,r.g2)("el-image"),n=(0,r.g2)("el-container"),d=(0,r.g2)("Message"),m=(0,r.g2)("el-icon"),c=(0,r.g2)("el-input"),u=(0,r.g2)("el-form-item"),g=(0,r.g2)("Lock"),p=(0,r.g2)("EditPen"),h=(0,r.g2)("el-button"),f=(0,r.g2)("el-text"),k=(0,r.g2)("el-link"),b=(0,r.g2)("el-form"),_=(0,r.g2)("el-card"),F=(0,r.gN)("loading");return(0,r.uX)(),(0,r.Wv)(n,{id:"form"},{default:(0,r.k6)((()=>[(0,r.bF)(_,null,{default:(0,r.k6)((()=>[(0,r.bF)(b,{model:a.form,rules:a.rules,"label-width":"auto","label-position":"right",ref:"form"},{default:(0,r.k6)((()=>[(0,r.bF)(n,{class:"form-item",style:{"padding-bottom":"1rem"}},{default:(0,r.k6)((()=>[(0,r.bF)(l,{src:a.logo,alt:"logo"},null,8,["src"])])),_:1}),(0,r.bF)(u,{label:"Email",prop:"email"},{default:(0,r.k6)((()=>[(0,r.bF)(c,{type:"email",modelValue:a.form.email,"onUpdate:modelValue":t[0]||(t[0]=e=>a.form.email=e),clearable:""},{prepend:(0,r.k6)((()=>[(0,r.bF)(m,null,{default:(0,r.k6)((()=>[(0,r.bF)(d)])),_:1})])),_:1},8,["modelValue"])])),_:1}),(0,r.bF)(u,{label:"Password",prop:"password"},{default:(0,r.k6)((()=>[(0,r.bF)(c,{type:"password",modelValue:a.form.password,"onUpdate:modelValue":t[1]||(t[1]=e=>a.form.password=e),clearable:"","show-password":""},{prepend:(0,r.k6)((()=>[(0,r.bF)(m,null,{default:(0,r.k6)((()=>[(0,r.bF)(g)])),_:1})])),_:1},8,["modelValue"])])),_:1}),(0,r.bF)(u,null,{default:(0,r.k6)((()=>[(0,r.bF)(n,{class:"form-item buttons"},{default:(0,r.k6)((()=>[a.isLoading?(0,r.bo)(((0,r.uX)(),(0,r.Wv)(n,{key:1},null,512)),[[F,!0]]):((0,r.uX)(),(0,r.Wv)(h,{key:0,round:"",plain:"",color:"#7f4af1",onClick:o.submitForm},{default:(0,r.k6)((()=>[(0,r.bF)(m,null,{default:(0,r.k6)((()=>[(0,r.bF)(p)])),_:1}),(0,r.eW)(" SIGNUP ")])),_:1},8,["onClick"]))])),_:1})])),_:1}),(0,r.bF)(n,{class:"form-item"},{default:(0,r.k6)((()=>[(0,r.bF)(f,null,{default:(0,r.k6)((()=>[(0,r.eW)("I have an account. ")])),_:1}),(0,r.bF)(k,{type:"primary",underline:!1,href:"#/login"},{default:(0,r.k6)((()=>[(0,r.eW)(" login now. ")])),_:1})])),_:1})])),_:1},8,["model","rules"])])),_:1})])),_:1})}var Je={data(){return{logo:F,form:{email:"",password:""},rules:{email:[{required:!0,message:"Email is empty",trigger:"blur"},{min:5,message:"Minimum of 5 characters",trigger:"blur"},{max:50,message:"Character limit exceeded",trigger:"blur"},{pattern:this.$store.getters.emailRegex,message:"Email is invalid. Use 'xxx@xxx.xx' format",trigger:"blur"}],password:[{required:!0,message:"Password is empty",trigger:"blur"},{min:6,message:"Minimum of 6 characters",trigger:"blur"},{max:20,message:"Character limit exceeded",trigger:"blur"},{pattern:this.$store.getters.passwordRegex,message:"Password is invalid. Use 'letters+numbers+symbols' format",trigger:"blur"}]},isLoading:!1}},methods:{async submitForm(){this.isLoading=!0,await this.$refs.form.validate((async e=>{if(e){const e={email:this.form.email.trim(),password:this.form.password.trim()};await this.$store.dispatch("signup",e);const t=this.$store.getters.signupStatus;t.isValid?(this.isLoading=!1,this.showDialogBox(t.message,"success"),this.clearForm(),Vt.push({name:"home"})):(this.isLoading=!1,this.showDialogBox(t.message,"error"))}else this.isLoading=!1,this.showDialogBox("Please fix the form before submit.","warning")}))},clearForm(){this.form.email="",this.form.password="",console.clear()},showDialogBox(e,t){(0,M.nk)({message:e,type:t,offset:50})}}};const Qe=(0,c.A)(Je,[["render",Ye],["__scopeId","data-v-13ff7358"]]);var et=Qe;const tt=e=>((0,r.Qi)("data-v-19c79281"),e=e(),(0,r.jt)(),e),it={id:"main"},st=tt((()=>(0,r.Lk)("svg",{fill:"#ffffff",version:"1.1",id:"Capa_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 60 60","xml:space":"preserve",width:"7rem",height:"7rem"},[(0,r.Lk)("g",{id:"SVGRepo_bgCarrier","stroke-width":"0"}),(0,r.Lk)("g",{id:"SVGRepo_tracerCarrier","stroke-linecap":"round","stroke-linejoin":"round"}),(0,r.Lk)("g",{id:"SVGRepo_iconCarrier"},[(0,r.Lk)("g",null,[(0,r.Lk)("path",{d:"M0,0v12v2v46h60V14v-2V0H0z M20,39h-3v8c0,0.552-0.448,1-1,1s-1-0.448-1-1v-8H9c-0.552,0-1-0.448-1-1V27 c0-0.552,0.448-1,1-1s1,0.448,1,1v10h5v-2c0-0.552,0.448-1,1-1s1,0.448,1,1v2h3c0.552,0,1,0.448,1,1S20.552,39,20,39z M36,41.5 c0,3.584-2.916,6.5-6.5,6.5S23,45.084,23,41.5v-9c0-3.584,2.916-6.5,6.5-6.5s6.5,2.916,6.5,6.5V41.5z M51,39h-3v8 c0,0.552-0.448,1-1,1s-1-0.448-1-1v-8h-6c-0.552,0-1-0.448-1-1V27c0-0.552,0.448-1,1-1s1,0.448,1,1v10h5v-2c0-0.552,0.448-1,1-1 s1,0.448,1,1v2h3c0.552,0,1,0.448,1,1S51.552,39,51,39z M2,12V2h56v10H2z"}),(0,r.Lk)("polygon",{points:"54.293,3.293 52,5.586 49.707,3.293 48.293,4.707 50.586,7 48.293,9.293 49.707,10.707 52,8.414 54.293,10.707 55.707,9.293 53.414,7 55.707,4.707 "}),(0,r.Lk)("rect",{x:"3",y:"3",width:"39",height:"8"}),(0,r.Lk)("path",{d:"M29.5,28c-2.481,0-4.5,2.019-4.5,4.5v9c0,2.481,2.019,4.5,4.5,4.5s4.5-2.019,4.5-4.5v-9C34,30.019,31.981,28,29.5,28z"})])])],-1))),at=tt((()=>(0,r.Lk)("b",null,"Home Page.",-1)));function ot(e,t){const i=(0,r.g2)("el-icon"),s=(0,r.g2)("el-col"),a=(0,r.g2)("el-row"),o=(0,r.g2)("el-text"),l=(0,r.g2)("el-link");return(0,r.uX)(),(0,r.CE)("div",it,[(0,r.bF)(a,{justify:"center"},{default:(0,r.k6)((()=>[(0,r.bF)(s,null,{default:(0,r.k6)((()=>[(0,r.bF)(i,{size:"100"},{default:(0,r.k6)((()=>[st])),_:1})])),_:1})])),_:1}),(0,r.bF)(a,{justify:"center"},{default:(0,r.k6)((()=>[(0,r.bF)(s,null,{default:(0,r.k6)((()=>[(0,r.bF)(o,null,{default:(0,r.k6)((()=>[(0,r.eW)("Page Not Found")])),_:1})])),_:1})])),_:1}),(0,r.bF)(a,{justify:"center"},{default:(0,r.k6)((()=>[(0,r.bF)(s,null,{default:(0,r.k6)((()=>[(0,r.bF)(o,{class:"small"},{default:(0,r.k6)((()=>[(0,r.eW)(" The page you are looking for does not exist. ")])),_:1})])),_:1})])),_:1}),(0,r.bF)(a,{justify:"center"},{default:(0,r.k6)((()=>[(0,r.bF)(s,{id:"link"},{default:(0,r.k6)((()=>[(0,r.bF)(o,{class:"small"},{default:(0,r.k6)((()=>[(0,r.eW)("Go to")])),_:1}),(0,r.bF)(l,{underline:!1,href:"#/"},{default:(0,r.k6)((()=>[(0,r.eW)("  "),at])),_:1})])),_:1})])),_:1})])}const lt={},nt=(0,c.A)(lt,[["render",ot],["__scopeId","data-v-19c79281"]]);var rt=nt,dt=i(782),mt={nameRegex(e){return e.regex.name},phoneRegex(e){return e.regex.phone},emailRegex(e){return e.regex.email},passwordRegex(e){return e.regex.password}},ct={state(){return{regex:{name:new RegExp(/^[ぁ-ゔァ-ヴー]+$/u),phone:new RegExp(/^[0-9]+$/),email:new RegExp(/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/),password:new RegExp(/^(?=.*[a-zA-Z])(?=.*\d)(?=.*[!#$%&'()*+,-./:;<=>?@[\]^_`{|}~])[a-zA-Z0-9!#$%&'()*+,-./:;<=>?@[\]^_`{|}~]{6,20}$/)}}},getters:mt},ut={signupStatus(e){return e.signupStatus},loginStatus(e){return e.loginStatus},email(e){return e.email||localStorage.getItem("email")},token(e){return e.token||localStorage.getItem("token")},localId(e){return e.localId||localStorage.getItem("localId")}},gt={async signup(e,t){const i=e.getters.urls.signup+e.getters.webApiKey,s=await fetch(i,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t.email,password:t.password,returnSecureToken:!0})}),a=await s.json();s.ok?(e.commit("commitSignupStatus",{isValid:!0,message:"Signup is successful."}),e.commit("commitLoggedInUser",{email:a.email,token:a.idToken,localId:a.localId})):e.commit("commitSignupStatus",{isValid:!1,message:"Failed to sign up user."})},async login(e,t){const i=e.getters.urls.login+e.getters.webApiKey,s=await fetch(i,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t.email,password:t.password,returnSecureToken:!0})}),a=await s.json();s.ok?(e.commit("commitLoginStatus",{isValid:!0,message:"Login is successful."}),e.commit("commitLoggedInUser",{email:a.email,token:a.idToken,localId:a.localId})):e.commit("commitLoginStatus",{isValid:!1,message:"Invalid login. Email or password is incorrect."})},logout(e){e.commit("commitLoggedUserAsEmpty")}},pt={commitSignupStatus(e,t){e.signupStatus.isValid=t.isValid,e.signupStatus.message=t.message},commitLoginStatus(e,t){e.loginStatus={isValid:t.isValid,message:t.message}},commitLoggedInUser(e,t){e.email=t.email,e.token=t.token,e.localId=t.localId,localStorage.setItem("email",t.email),localStorage.setItem("token",t.token),localStorage.setItem("localId",t.localId)},commitLoggedUserAsEmpty(e){e.email=null,e.token=null,e.localId=null,localStorage.removeItem("email"),localStorage.removeItem("token"),localStorage.removeItem("localId")}},ht={state(){return{signupStatus:{isValid:null,message:""},loginStatus:{isValid:null,message:""},email:null,token:null,localId:null}},getters:ut,actions:gt,mutations:pt},ft={commitMembersList(e,t){e.members=[];for(const i in t)e.members.push({id:i,name:t[i].name,sex:t[i].sex,birthday:t[i].birthday,occupation:t[i].occupation,phone:t[i].phone,email:t[i].email,interest:t[i].interest})},commitSelectedMember(e,t){e.selectedMember={id:t.id,name:t.name,sex:t.sex,birthday:t.birthday,occupation:t.occupation,phone:t.phone,email:t.email,interest:t.interest}},commitFetchingMemberStatus(e,t){e.fetchingMemberStatus.isValid=t.isValid,e.fetchingMemberStatus.message=t.message},commitDeleteMemberStatus(e,t){e.deleteMemberStatus.isValid=t.isValid,e.deleteMemberStatus.message=t.message},commitAddMemberStatus(e,t){e.addMemberStatus.isValid=t.isValid,e.addMemberStatus.message=t.message},commitEditMemberStatus(e,t){e.editMemberStatus.isValid=t.isValid,e.editMemberStatus.message=t.message}},kt={members(e){return e.members.reverse()},selectedMember(e){return e.selectedMember},fetchingMemberStatus(e){return e.fetchingMemberStatus},deleteMemberStatus(e){return e.deleteMemberStatus},addMemberStatus(e){return e.addMemberStatus},editMemberStatus(e){return e.editMemberStatus}},bt={async fetchMembers(e){const t=e.getters.urls.firebase+"members.json?auth="+e.getters.token,i=await fetch(t),s=await i.json();i.ok?e.commit("commitMembersList",s):401===i.status&&e.dispatch("setIsTokenExpired",!0)},async fetchMember(e,t){const i=e.getters.urls.firebase+`members/${t.id}.json?auth=`+e.getters.token,s=await fetch(i),a=await s.json();s.ok?e.commit("commitSelectedMember",{id:t.id,name:a.name,sex:a.sex,birthday:a.birthday,occupation:a.occupation,phone:a.phone,email:a.email,interest:a.interest}):401===s.status?e.dispatch("setIsTokenExpired",!0):e.commit("commitFetchingMemberStatus",{isValid:!1,message:"Failed to fetch member. Redirecting to Members Page."})},async deleteMember(e,t){const i=e.getters.urls.firebase+"members/"+t.id+".json?auth="+e.getters.token,s=await fetch(i,{method:"DELETE"});s.ok?e.commit("commitDeleteMemberStatus",{isValid:!0,message:`${t.name} was deleted successfully.`}):401===s.status?e.dispatch("setIsTokenExpired",!0):e.commit("commitDeleteMemberStatus",{isValid:!1,message:`Failed to delete ${t.name}.`})},async addMember(e,t){const i=e.getters.urls.firebase+"/members.json?auth="+e.getters.token,s=await fetch(i,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});s.ok?e.commit("commitAddMemberStatus",{isValid:!0,message:`${t.name} was successfully added.`}):401===s.status?e.dispatch("setIsTokenExpired",!0):e.commit("commitAddMemberStatus",{isValid:!1,message:`Failed to add ${t.name}.`})},async editMember(e,t){const i=e.getters.urls.firebase+"members/"+t.id+".json?auth="+e.getters.token,s=await fetch(i,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t.updatedData)});s.ok?e.commit("commitEditMemberStatus",{isValid:!0,message:`${t.updatedData.name} was successfully edited.`}):401===s.status?e.dispatch("setIsTokenExpired",!0):e.commit("commitEditMemberStatus",{isValid:!1,message:`Failed to edit ${t.updatedData.name}.`})}},_t={state(){return{members:[],selectedMember:{id:"",name:"",sex:"",birthday:"",occupation:"",phone:"",email:"",interest:""},fetchingMemberStatus:{isValid:null,message:""},deleteMemberStatus:{isValid:null,message:""},addMemberStatus:{isValid:null,message:""},editMemberStatus:{isValid:null,message:""}}},mutations:ft,actions:bt,getters:kt},Ft={commitTopicsList(e,t){e.topics=[];for(const i in t){let s={id:i,title:t[i].title,content:t[i].content,owner_localId:t[i].owner_localId,owner_email:t[i].owner_email,timestamp:t[i].timestamp,likes:[],comments:[]};for(let e in t[i].likes)0!=e&&s.likes.push(t[i].likes[e]);for(let e in t[i].comments)if(0!=e){let a={id:e,comment_content:t[i].comments[e].comment_content,comment_email:t[i].comments[e].comment_email,comment_localId:t[i].comments[e].comment_localId,comment_timestamp:t[i].comments[e].comment_timestamp};s.comments.push(a)}e.topics.push(s)}},commitSelectedTopic(e,t){let i={id:t.id,title:t.data.title,content:t.data.content,owner_localId:t.data.owner_localId,owner_email:t.data.owner_email,timestamp:t.data.timestamp,likes:[],comments:[]};for(let s in t.data.likes)0!=s&&i.likes.push(t.data.likes[s]);for(let s in t.data.comments)if(0!=s){let e={id:s,comment_content:t.data.comments[s].comment_content,comment_email:t.data.comments[s].comment_email,comment_localId:t.data.comments[s].comment_localId,comment_timestamp:t.data.comments[s].comment_timestamp};i.comments.push(e)}e.selectedTopic=i},commitAddTopicStatus(e,t){e.addTopicStatus={isValid:t.isValid,message:t.message}},commitEditTopicStatus(e,t){e.editTopicStatus={isValid:t.isValid,message:t.message}},commitFetchedLikes(e,t){let i=[];for(let s in t)i.push({likesId:s,liker_localId:t[s].liker_localId,liker_email:t[s].liker_email});e.fetchedLikes=i},commitLikeTopicStatus(e,t){e.likeTopicStatus={isValid:t.isValid,message:t.message}},commitUnlikeTopicStatus(e,t){e.unlikeTopicStatus={isValid:t.isValid,message:t.message}},commitFetchedComments(e,t){let i=[];for(let s in t)i.push({commentId:s,comment_content:t[s].comment_content,comment_timestamp:t[s].comment_timestamp,comment_email:t[s].comment_email,comment_localId:t[s].comment_localId});e.fetchedComments=i},commitAddCommentStatus(e,t){e.addCommentStatus={isValid:t.isValid,message:t.message}},commitDeleteCommentStatus(e,t){e.deleteCommentStatus={isValid:t.isValid,message:t.message}}},wt={topics(e){return e.topics.reverse()},selectedTopic(e){return e.selectedTopic},fetchingTopicStatus(e){return e.fetchingTopicStatus},addTopicStatus(e){return e.addTopicStatus},editTopicStatus(e){return e.editTopicStatus},fetchedLikes(e){return e.fetchedLikes},likeTopicStatus(e){return e.likeTopicStatus},unlikeTopicStatus(e){return e.unlikeTopicStatus},fetchedComments(e){return e.fetchedComments},addCommentStatus(e){return e.addCommentStatus},deleteCommentStatus(e){return e.deleteCommentStatus}},yt={async fetchTopics(e){const t=e.getters.urls.firebase+"topics.json?auth="+e.getters.token,i=await fetch(t),s=await i.json();i.ok?e.commit("commitTopicsList",s):401===i.status&&e.dispatch("setIsTokenExpired",!0)},async fetchTopic(e,t){const i=e.getters.urls.firebase+`topics/${t.id}.json?auth=`+e.getters.token,s=await fetch(i),a=await s.json();s.ok?e.commit("commitSelectedTopic",{id:t.id,data:a}):401===s.status?e.dispatch("setIsTokenExpired",!0):e.commit("commitFetchingTopicStatus",{isValid:!1,message:"Failed to fetch topic. Redirecting to Topics Page."})},async addTopic(e,t){const i=e.getters.urls.firebase+"/topics.json?auth="+e.getters.token,s=await fetch(i,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});s.ok?e.commit("commitAddTopicStatus",{isValid:!0,message:"Topic was successfully added."}):401===s.status?e.dispatch("setIsTokenExpired",!0):e.commit("commitAddTopicStatus",{isValid:!1,message:"Failed to add topic."})},async editTopic(e,t){const i=e.getters.urls.firebase+"topics/"+t.id+".json?auth="+e.getters.token,s=await fetch(i,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(t.updatedData)});s.ok?e.commit("commitEditTopicStatus",{isValid:!0,message:"Changes was sucessfully saved."}):401===s.status?e.dispatch("setIsTokenExpired",!0):e.commit("commitEditTopicStatus",{isValid:!1,message:"Failed to save changes."})},async likeTopic(e,t){let i=!1,s=e.getters.localId;await e.dispatch("fetchLikes",{id:t.id});let a=e.getters.fetchedLikes;a.forEach((e=>{e.liker_localId===s&&(i=!0)}));const o=e.getters.urls.firebase+"topics/"+t.id+"/likes.json?auth="+e.getters.token;if(i)e.commit("commitLikeTopicStatus",{isValid:!1,message:"You already liked this topic."});else{const i=await fetch(o,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t.newData)});i.ok?e.commit("commitLikeTopicStatus",{isValid:!0,message:`You liked '${t.title}'`}):401===i.status?e.dispatch("setIsTokenExpired",!0):e.commit("commitLikeTopicStatus",{isValid:!1,message:`Failed to like '${t.title}'`})}},async unlikeTopic(e,t){let i=e.getters.localId,s=null;await e.dispatch("fetchLikes",{id:t.topicId});let a=e.getters.fetchedLikes;a.forEach((e=>{e.liker_localId===i&&(s=e.likesId)}));const o=e.getters.urls.firebase+"topics/"+t.topicId+"/likes/"+s+".json?auth="+e.getters.token;if(null!==s){const i=await fetch(o,{method:"DELETE"});i.ok?e.commit("commitUnlikeTopicStatus",{isValid:!0,message:`You unliked '${t.title}'`}):401===i.status?e.dispatch("setIsTokenExpired",!0):e.commit("commitUnlikeTopicStatus",{isValid:!1,message:`Failed to unlike '${t.title}'`})}else e.commit("commitUnlikeTopicStatus",{isValid:!1,message:"You already unliked this topic."})},async fetchLikes(e,t){const i=e.getters.urls.firebase+"topics/"+t.id+"/likes.json?auth="+e.getters.token,s=await fetch(i),a=await s.json();s.ok?e.commit("commitFetchedLikes",a):401===s.status?e.dispatch("setIsTokenExpired",!0):(0,M.nk)({message:"Failed to fetch likes.",type:"warning",offset:50})},async fetchComments(e,t){const i=e.getters.urls.firebase+"topics/"+t.id+"/comments.json?auth="+e.getters.token,s=await fetch(i),a=await s.json();s.ok?e.commit("commitFetchedComments",a):401===s.status?e.dispatch("setIsTokenExpired",!0):(0,M.nk)({message:"Failed to fetch comments.",type:"warning",offset:50})},async addComment(e,t){const i=e.getters.urls.firebase+"topics/"+t.id+"/comments.json?auth="+e.getters.token,s=await fetch(i,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t.newData)});s.ok?e.commit("commitAddCommentStatus",{isValid:!0,message:"Comment added successfully."}):401===s.status?e.dispatch("setIsTokenExpired",!0):e.commit("commitAddCommentStatus",{isValid:!1,message:"Failed to add comment."})},async deleteComment(e,t){const i=e.getters.urls.firebase+"topics/"+t.topicId+"/comments/"+t.commentId+".json?auth="+e.getters.token,s=await fetch(i,{method:"DELETE"});s.ok?e.commit("commitDeleteCommentStatus",{isValid:!0,message:"Comment deleted."}):401===s.status?e.dispatch("setIsTokenExpired",!0):e.commit("commitDeleteCommentStatus",{isValid:!1,message:"Failed to delete comment."})}},Ct={state(){return{topics:[],selectedTopic:{id:"",title:"",content:"",owner_localId:"",owner_email:"",timestamp:"",likes:[],comments:[]},fetchingTopicStatus:{isValid:null,message:""},deleteTopicStatus:{isValid:null,message:""},addTopicStatus:{isValid:null,message:""},editTopicStatus:{isValid:null,message:""},fetchedLikes:[],likeTopicStatus:{isValid:null,message:""},unlikeTopicStatus:{isValid:null,message:""},fetchedComments:[],addCommentStatus:{isValid:null,message:""},deleteCommentStatus:{isValid:null,message:""}}},mutations:Ft,actions:yt,getters:wt},vt={webApiKey(e){return e.webApiKey},urls(e){return e.urls},isTokenExpired(e){return e.isTokenExpired}},xt={setIsTokenExpired(e,t){e.commit("commitIsTokenExpired",t)}},jt={commitIsTokenExpired(e,t){e.isTokenExpired=t}};const St=(0,dt.y$)({namespaced:!0,modules:{validation:ct,auth:ht,members:_t,topics:Ct},state(){return{webApiKey:"AIzaSyDNKzXt738OU1tcT_6InfDznjGw4VUN4U0",urls:{login:"https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=",signup:"https://identitytoolkit.googleapis.com/v1/accounts:signUp?key=",firebase:"https://vue-practice6-7-default-rtdb.asia-southeast1.firebasedatabase.app/"},isTokenExpired:!1}},getters:vt,actions:xt,mutations:jt});var Tt=St;const Lt=(0,p.aE)({history:(0,p.Bt)(),routes:[{path:"/",name:"default",component:q,redirect:{name:"home"},meta:{requiresAuth:!0},children:[{path:"home",name:"home",component:he,meta:{requiresAuth:!0,index:0}},{path:"members",name:"members",component:_e,meta:{requiresAuth:!0,index:1}},{path:"members/edit",name:"members-edit",component:Ce,props:!0,meta:{requiresAuth:!0,index:2}},{path:"topics",name:"topics",component:Se,meta:{requiresAuth:!0,index:3}},{path:"topics/detail",name:"topics-detail",component:Be,props:!0,meta:{requiresAuth:!0,index:4}},{path:"topic/edit",name:"topic-edit",component:Ne,props:!0,meta:{requiresAuth:!0,index:5}}]},{path:"/login",name:"login",component:Ze,meta:{requiresAuth:!1}},{path:"/signup",name:"signup",component:et,meta:{requiresAuth:!1}},{path:"/:notFound(.*)",name:"not-found",component:rt,meta:{requiresAuth:!1}}]});Lt.beforeEach(((e,t,i)=>{const s=Tt.getters.token;e.meta.requiresAuth&&null===s?((0,M.nk)({message:"You need to login first.",type:"warning",offset:50}),Lt.push({name:"login"})):i()}));var Vt=Lt;const It=(0,s.Ef)(g);It.use(a.A),It.use(Vt),It.use(Tt),It.use(n());for(const[Mt,$t]of Object.entries(o))It.component(Mt,$t);Vt.isReady().then((()=>{It.mount("#app")}))}},t={};function i(s){var a=t[s];if(void 0!==a)return a.exports;var o=t[s]={id:s,loaded:!1,exports:{}};return e[s].call(o.exports,o,o.exports,i),o.loaded=!0,o.exports}i.m=e,function(){var e=[];i.O=function(t,s,a,o){if(!s){var l=1/0;for(m=0;m<e.length;m++){s=e[m][0],a=e[m][1],o=e[m][2];for(var n=!0,r=0;r<s.length;r++)(!1&o||l>=o)&&Object.keys(i.O).every((function(e){return i.O[e](s[r])}))?s.splice(r--,1):(n=!1,o<l&&(l=o));if(n){e.splice(m--,1);var d=a();void 0!==d&&(t=d)}}return t}o=o||0;for(var m=e.length;m>0&&e[m-1][2]>o;m--)e[m]=e[m-1];e[m]=[s,a,o]}}(),function(){i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,{a:t}),t}}(),function(){i.d=function(e,t){for(var s in t)i.o(t,s)&&!i.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}}(),function(){i.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){i.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e}}(),function(){i.p="/TrainingForPH/Dhonel/practice7/dist/"}(),function(){var e={524:0};i.O.j=function(t){return 0===e[t]};var t=function(t,s){var a,o,l=s[0],n=s[1],r=s[2],d=0;if(l.some((function(t){return 0!==e[t]}))){for(a in n)i.o(n,a)&&(i.m[a]=n[a]);if(r)var m=r(i)}for(t&&t(s);d<l.length;d++)o=l[d],i.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return i.O(m)},s=self["webpackChunkpractice7"]=self["webpackChunkpractice7"]||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))}();var s=i.O(void 0,[504],(function(){return i(1854)}));s=i.O(s)})();
//# sourceMappingURL=app.4a1504e2.js.map